import{t as be,e as ge,i as G,a as q,u as we,b as ae,r as ye,f as ke,g as xe}from"./i18n-CLA-aXfX.js";import{n as $e,b as v,p as oe,af as C,ag as Be,ah as De,i as r,j as s,f as D,$ as F,t as B,h as m,a9 as h,s as x,e as y,c as ie,aA as se,k as H,W as Ae,r as b,U as ne}from"./index-zQcUQ9m1.js";import{G as Ee}from"./utils.svelte-DtXXSlyN.js";import{b as Me}from"./input-D71CySwn.js";import{p as Oe}from"./event-modifiers-CdEA5IGF.js";/* empty css                                                        */import{B as Ge}from"./BlockTitle-CuzKPIeo.js";import"./MarkdownCode.svelte_svelte_type_style_lang-C7vd_kT1.js";import{D as Ie}from"./DropdownArrow-DvXZK-yN.js";import{D as Pe,h as Se,a as je,b as ze}from"./Dropdown-Cr0_FhkB.js";import{B as Le}from"./Block-DgGHn7bv.js";import{S as Re}from"./index-CDsfLiji.js";/* empty css                                                   */import{default as wr}from"./Example-DTbIvZ9G.js";import"./Info-DM2eBECo.js";import"./MarkdownCode-vmwH67uD.js";import"./html-B3q7QijE.js";import"./prism-python-D43YKUi0.js";import"./index-B7oLUUy4.js";import"./window-D9mIs-QY.js";import"./IconButton-B7IBJBO5.js";import"./svelte-component-BXBUmXeM.js";import"./misc-snWqx6W0.js";import"./Clear-G_Bw7Svf.js";/* empty css                                              */var Te=$e('<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="100%" height="100%"><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"></path></svg>');function le(A){var k=Te();v(A,k)}var Ue=D('<div class="token-remove svelte-1dv2vbb" role="button" tabindex="0"><!></div>'),We=D('<div class="token svelte-1dv2vbb"><span class="svelte-1dv2vbb"><!></span> <!></div>'),qe=D('<div role="button" tabindex="0" class="token-remove remove-all svelte-1dv2vbb"><!></div>'),Ce=D('<!> <span class="icon-wrap svelte-1dv2vbb"><!></span>',1),Fe=D('<label><!> <div class="wrap svelte-1dv2vbb"><div><!> <div class="secondary-wrap svelte-1dv2vbb"><input autocomplete="off"/> <!></div></div> <!></div></label>');function He(A,k){oe(k,!0);const t=k.gradio;let l,i=C(""),J=h(()=>t.shared.label||"Multiselect"),E=h(()=>t.props.choices.map(e=>e[0])),g=h(()=>t.props.choices.map(e=>e[1])),$=h(()=>!t.shared.interactive),u=C(!1),j=h(()=>{const e=je(t.props.choices,r(i));return[e,e.length>0&&!t.props.allow_custom_value?e[0]:null]}),_=h(()=>se(r(j),2)),z=h(()=>r(_)[0]),f=h(()=>r(_)[1]);function pe(){return t.props.value===void 0?[]:Array.isArray(t.props.value)?t.props.value.map(e=>{const a=r(g).indexOf(e);if(a!==-1)return a;if(t.props.allow_custom_value)return e}).filter(e=>e!==void 0):[]}let o=h(pe);function de(){t.props.allow_custom_value||s(i,""),t.props.allow_custom_value&&r(i)!==""&&(R(r(i)),s(i,"")),t.dispatch("blur"),s(u,!1),s(f,null)}function L(e){s(o,r(o).filter(a=>a!==e)),t.props.value=r(o).map(a=>typeof a=="number"?r(g)[a]:a),t.dispatch("input"),t.dispatch("select",{index:typeof e=="number"?e:-1,value:typeof e=="number"?r(g)[e]:e,selected:!1})}function R(e){(t.props.max_choices==null||r(o).length<t.props.max_choices)&&(r(o).push(e),t.dispatch("select",{index:typeof e=="number"?e:-1,value:typeof e=="number"?r(g)[e]:e,selected:!0})),r(o).length===t.props.max_choices&&(s(u,!1),s(f,null),l.blur()),t.props.value=r(o).map(a=>typeof a=="number"?r(g)[a]:a)}function ce(e){const a=parseInt(e.detail.target.dataset.index);K(a)}function K(e){r(o).includes(e)?L(e):R(e),s(i,""),s(f,null),t.dispatch("input")}function N(e){s(o,[]),s(i,""),t.props.value=[],e.preventDefault()}function ue(e){s(z,t.props.choices.map((a,p)=>p)),(t.props.max_choices===null||r(o).length<t.props.max_choices)&&s(u,!0),t.dispatch("focus"),s(u,!0)}function ve(e){(a=>{var p=se(a,2);s(u,p[0],!0),s(f,p[1])})(Se(e,r(f),r(z))),e.key==="Enter"&&(r(f)!==null?K(r(f)):t.props.allow_custom_value&&(R(r(i)),s(i,""))),e.key==="Backspace"&&r(i)===""&&s(o,[...r(o).slice(0,-1)]),r(o).length===t.props.max_choices&&(s(u,!1),s(f,null))}let Q=C(Be(t.props.value));De(()=>{r(Q)!==t.props.value&&(s(Q,t.props.value,!0),t.dispatch("change"))});var I=Fe();let V;var X=m(I);Ge(X,{get show_label(){return t.shared.show_label},get info(){return t.props.info},children:(e,a)=>{Ae();var p=F();B(()=>H(p,r(J))),v(e,p)},$$slots:{default:!0}});var Y=x(X,2),P=m(Y);let Z;var ee=m(P);be(ee,17,()=>r(o),we,(e,a)=>{var p=We(),M=m(p),S=m(M);{var T=n=>{var d=F();B(()=>H(d,r(E)[r(a)])),v(n,d)},O=n=>{var d=F();B(()=>H(d,r(a))),v(n,d)};G(S,n=>{typeof r(a)=="number"?n(T):n(O,!1)})}b(M);var w=x(M,2);{var U=n=>{var d=Ue(),he=m(d);le(he),b(d),B(W=>ae(d,"title",W),[()=>t.i18n("common.remove")+" "+r(a)]),y("click",d,Oe(()=>L(r(a)))),y("keydown",d,W=>{W.key==="Enter"&&L(r(a))}),v(n,d)};G(w,n=>{r($)||n(U)})}b(p),v(e,p)});var re=x(ee,2),c=m(re);ye(c);let te;ge(c,e=>l=e,()=>l);var _e=x(c,2);{var fe=e=>{var a=Ce(),p=ne(a);{var M=O=>{var w=qe(),U=m(w);le(U),b(w),B(n=>ae(w,"title",n),[()=>t.i18n("common.clear")]),y("click",w,N),y("keydown",w,n=>{n.key==="Enter"&&N(n)}),v(O,w)};G(p,O=>{r(o).length>0&&O(M)})}var S=x(p,2),T=m(S);Ie(T),b(S),v(e,a)};G(_e,e=>{r($)||e(fe)})}b(re),b(P);var me=x(P,2);Pe(me,{get show_options(){return r(u)},get choices(){return t.props.choices},get filtered_indices(){return r(z)},get disabled(){return r($)},get selected_indices(){return r(o)},get active_index(){return r(f)},remember_scroll:!0,$$events:{change:ce}}),b(Y),b(I),B(e=>{V=q(I,1,"svelte-1dv2vbb",null,V,{container:t.shared.container}),Z=q(P,1,"wrap-inner svelte-1dv2vbb",null,Z,{show_options:r(u)}),te=q(c,1,"border-none svelte-1dv2vbb",null,te,e),c.disabled=r($),c.readOnly=!t.props.filterable},[()=>({subdued:!r(E).includes(r(i))&&!t.props.allow_custom_value||r(o).length===t.props.max_choices})]),Me(c,()=>r(i),e=>s(i,e)),y("keydown",c,ve),y("keyup",c,e=>{t.dispatch("key_up",{key:e.key,input_value:r(i)})}),y("blur",c,de),y("focus",c,ue),v(A,I),ie()}var Je=D("<!> <!>",1);function hr(A,k){oe(k,!0);let t=ke(k,["$$slots","$$events","$$legacy"]);const l=new Ee(t);Le(A,{get visible(){return l.shared.visible},get elem_id(){return l.shared.elem_id},get elem_classes(){return l.shared.elem_classes},get padding(){return l.shared.container},allow_overflow:!1,get scale(){return l.shared.scale},get min_width(){return l.shared.min_width},children:(i,J)=>{var E=Je(),g=ne(E);Re(g,xe({get autoscroll(){return l.shared.autoscroll},get i18n(){return l.i18n}},()=>l.shared.loading_status,{on_clear_status:()=>l.dispatch("clear_status",loading_status)}));var $=x(g,2);{var u=_=>{He(_,{get gradio(){return l}})},j=_=>{ze(_,{get gradio(){return l}})};G($,_=>{l.props.multiselect?_(u):_(j,!1)})}v(i,E)},$$slots:{default:!0}}),ie()}export{ze as BaseDropdown,Pe as BaseDropdownOptions,wr as BaseExample,He as BaseMultiselect,hr as default};
