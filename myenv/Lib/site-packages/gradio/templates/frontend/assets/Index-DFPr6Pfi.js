const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./Canvas3D-BQZYwRO_.js","./index-zQcUQ9m1.js","./index-CqMwg91u.css","./i18n-CLA-aXfX.js","./i18n-Bf8vNdKW.css","./props-CKo_ykv6.js","./Canvas3DGS-9mwQttxk.js"])))=>i.map(i=>d[i]);
import{p as n,d as ve,i as H,s as be,e as ye,f as we,g as ne}from"./i18n-CLA-aXfX.js";import{p as me,R as ze,l as de,i as r,d as ie,m as V,a as xe,f as O,U as v,V as ae,b as m,c as ce,g as d,s as F,j as _,X,h as De,r as Me,aj as ue,_ as le,Q as Ee,af as $,ag as Pe,ah as Ue,a9 as A}from"./index-zQcUQ9m1.js";import{G as Be}from"./utils.svelte-DtXXSlyN.js";import Ce from"./Model3D-CxvVITU0.js";import{c as _e}from"./svelte-component-BXBUmXeM.js";import{b as ke}from"./misc-snWqx6W0.js";import{U as Ge}from"./Upload-BKx5p3GO.js";import{M as Ie}from"./ModifyUpload-_NXBf0nx.js";/* empty css                                             *//* empty css                                                        */import"./MarkdownCode.svelte_svelte_type_style_lang-C7vd_kT1.js";import{B as he}from"./BlockLabel-BmXTkHTt.js";import{F as oe}from"./File-CCqkJzFm.js";import{B as pe}from"./Block-DgGHn7bv.js";import{E as Se}from"./Empty-BZ_-KNsK.js";import{U as je}from"./UploadText-CdWhf1vX.js";import{S as ge}from"./index-CDsfLiji.js";/* empty css                                                   */import{default as xt}from"./Example-ChG7o0hN.js";import"./IconButton-B7IBJBO5.js";import"./Download-X4TzKHZY.js";import"./Undo-B0i5SYxj.js";import"./IconButtonWrapper-dc02OfMv.js";import"./index-tFQomdd2.js";import"./prism-python-D43YKUi0.js";import"./actions-C-VE6FDE.js";import"./props-CKo_ykv6.js";import"./utils-BsTlurbm.js";import"./DownloadLink-DaQ_7WnR.js";import"./Clear-G_Bw7Svf.js";import"./Edit-iP6wpb5V.js";import"./ImagePaste-DZGLPUuh.js";import"./Upload-C3qqF65G.js";var Le=O('<div class="input-model svelte-18wa0f8"><!> <!></div>'),Re=O("<!> <!>",1);function Te(J,a){me(a,!1);let s=n(a,"value",12),C=n(a,"display_mode",12,"solid"),e=n(a,"clear_color",28,()=>[0,0,0,0]),x=n(a,"label",12,""),D=n(a,"show_label",12),b=n(a,"root",12),c=n(a,"i18n",12),p=n(a,"zoom_speed",12,1),M=n(a,"pan_speed",12,1),k=n(a,"max_file_size",12,null),E=n(a,"uploading",12,!1),P=n(a,"upload_promise",12,null),G=n(a,"camera_position",28,()=>[null,null,null]),I=n(a,"upload",12),U=n(a,"stream_handler",12);async function K({detail:t}){s(t),await le(),u("change",s()),u("load",s())}async function N(){s(null),await le(),u("clear"),u("change")}let y=V(!1),o=V(),w=V();async function S(){return(await ue(()=>import("./Canvas3D-BQZYwRO_.js"),__vite__mapDeps([0,1,2,3,4,5]),import.meta.url)).default}async function j(){return(await ue(()=>import("./Canvas3DGS-9mwQttxk.js"),__vite__mapDeps([6,3,1,2,4]),import.meta.url)).default}let L=V();async function z(){r(L)?.reset_camera_position()}const u=ze();let h=V(!1);de(()=>(ie(s()),r(y)),()=>{s()&&(_(y,s().path.endsWith(".splat")||s().path.endsWith(".ply")),r(y)?j().then(t=>{_(o,t)}):S().then(t=>{_(w,t)}))}),de(()=>r(h),()=>{u("drag",r(h))}),xe();var l={get value(){return s()},set value(t){s(t),d()},get display_mode(){return C()},set display_mode(t){C(t),d()},get clear_color(){return e()},set clear_color(t){e(t),d()},get label(){return x()},set label(t){x(t),d()},get show_label(){return D()},set show_label(t){D(t),d()},get root(){return b()},set root(t){b(t),d()},get i18n(){return c()},set i18n(t){c(t),d()},get zoom_speed(){return p()},set zoom_speed(t){p(t),d()},get pan_speed(){return M()},set pan_speed(t){M(t),d()},get max_file_size(){return k()},set max_file_size(t){k(t),d()},get uploading(){return E()},set uploading(t){E(t),d()},get upload_promise(){return P()},set upload_promise(t){P(t),d()},get camera_position(){return G()},set camera_position(t){G(t),d()},get upload(){return I()},set upload(t){I(t),d()},get stream_handler(){return U()},set stream_handler(t){U(t),d()}};ve();var R=Re(),g=v(R);{let t=ae(()=>x()||"3D Model");he(g,{get show_label(){return D()},get Icon(){return oe},get label(){return r(t)}})}var W=F(g,2);{var q=t=>{{let B=ae(()=>(ie(c()),Ee(()=>c()("model3d.drop_to_upload"))));Ge(t,{get upload(){return I()},get stream_handler(){return U()},get root(){return b()},get max_file_size(){return k()},filetype:[".stl",".obj",".gltf",".glb","model/obj",".splat",".ply"],get aria_label(){return r(B)},get upload_promise(){return P()},set upload_promise(i){P(i)},get dragging(){return r(h)},set dragging(i){_(h,i)},get uploading(){return E()},set uploading(i){E(i)},$$events:{load:K,error(i){ke.call(this,a,i)}},children:(i,se)=>{var Q=X(),Z=v(Q);be(Z,a,"default",{},null),m(i,Q)},$$slots:{default:!0},$$legacy:!0})}},Y=t=>{var B=Le(),i=De(B);{let f=ae(()=>!r(y));Ie(i,{get undoable(){return r(f)},get i18n(){return c()},$$events:{clear:N,undo:z}})}var se=F(i,2);{var Q=f=>{var T=X(),ee=v(T);_e(ee,()=>r(o),(te,re)=>{re(te,{get value(){return s()},get zoom_speed(){return p()},get pan_speed(){return M()}})}),m(f,T)},Z=f=>{var T=X(),ee=v(T);_e(ee,()=>r(w),(te,re)=>{ye(re(te,{get value(){return s()},get display_mode(){return C()},get clear_color(){return e()},get camera_position(){return G()},get zoom_speed(){return p()},get pan_speed(){return M()},$$legacy:!0}),fe=>_(L,fe),()=>r(L))}),m(f,T)};H(se,f=>{r(y)?f(Q):f(Z,!1)})}Me(B),m(t,B)};H(W,t=>{s()==null?t(q):t(Y,!1)})}return m(J,R),ce(l)}var Ve=O("<!> <!>",1),$e=O("<!> <!>",1),Ae=O("<!> <!>",1);function yt(J,a){me(a,!0);class s extends Be{async get_data(){return r(p)&&(await r(p),await le()),await super.get_data()}}const C=we(a,["$$slots","$$events","$$legacy"]),e=new s(C);let x=$(Pe(e.props.value)),D=$(!1),b=$(!1),c=$(!1),p=$(void 0);const M=typeof window<"u";Ue(()=>{r(x)!==e.props.value&&(_(x,e.props.value,!0),e.dispatch("change"))});function k(o){e.props.value=o,e.dispatch("change",o),_(c,!0)}function E(o){_(b,o,!0)}function P(){e.props.value=null,e.dispatch("clear")}function G(o){e.props.value=o,e.dispatch("upload")}function I(o){e.shared.loading_status&&(e.shared.loading_status.status="error"),e.dispatch("error",o)}var U=X(),K=v(U);{var N=o=>{{let w=A(()=>e.props.value===null?"dashed":"solid"),S=A(()=>r(b)?"focus":"base");pe(o,{get visible(){return e.shared.visible},get variant(){return r(w)},get border_mode(){return r(S)},padding:!1,get elem_id(){return e.shared.elem_id},get elem_classes(){return e.shared.elem_classes},get container(){return e.shared.container},get scale(){return e.shared.scale},get min_width(){return e.shared.min_width},get height(){return e.props.height},children:(j,L)=>{var z=$e(),u=v(z);ge(u,ne({get autoscroll(){return e.shared.autoscroll},get i18n(){return e.i18n}},()=>e.shared.loading_status,{on_clear_status:()=>e.dispatch("clear_status",e.shared.loading_status)}));var h=F(u,2);{var l=g=>{Ce(g,{get value(){return e.props.value},get i18n(){return e.i18n},get display_mode(){return e.props.display_mode},get clear_color(){return e.props.clear_color},get label(){return e.shared.label},get show_label(){return e.shared.show_label},get camera_position(){return e.props.camera_position},get zoom_speed(){return e.props.zoom_speed},get has_change_history(){return r(c)}})},R=g=>{var W=Ve(),q=v(W);{let t=A(()=>e.shared.label||"3D Model");he(q,{get show_label(){return e.shared.show_label},get Icon(){return oe},get label(){return r(t)}})}var Y=F(q,2);Se(Y,{unpadded_box:!0,size:"large",children:(t,B)=>{oe(t)},$$slots:{default:!0}}),m(g,W)};H(h,g=>{e.props.value&&M?g(l):g(R,!1)})}m(j,z)},$$slots:{default:!0}})}},y=o=>{{let w=A(()=>e.props.value===null?"dashed":"solid"),S=A(()=>r(b)?"focus":"base");pe(o,{get visible(){return e.shared.visible},get variant(){return r(w)},get border_mode(){return r(S)},padding:!1,get elem_id(){return e.shared.elem_id},get elem_classes(){return e.shared.elem_classes},get container(){return e.shared.container},get scale(){return e.shared.scale},get min_width(){return e.shared.min_width},get height(){return e.props.height},children:(j,L)=>{var z=Ae(),u=v(z);ge(u,ne({get autoscroll(){return e.shared.autoscroll},get i18n(){return e.i18n}},()=>e.shared.loading_status,{on_clear_status:()=>e.dispatch("clear_status",e.shared.loading_status)}));var h=F(u,2);Te(h,{get label(){return e.shared.label},get show_label(){return e.shared.show_label},get root(){return e.shared.root},get display_mode(){return e.props.display_mode},get clear_color(){return e.props.clear_color},get value(){return e.props.value},get camera_position(){return e.props.camera_position},get zoom_speed(){return e.props.zoom_speed},get i18n(){return e.i18n},get max_file_size(){return e.shared.max_file_size},upload:(...l)=>e.shared.client.upload(...l),stream_handler:(...l)=>e.shared.client.stream(...l),get upload_promise(){return r(p)},set upload_promise(l){_(p,l,!0)},get uploading(){return r(D)},set uploading(l){_(D,l,!0)},$$events:{change:({detail:l})=>k(l),drag:({detail:l})=>E(l),clear:P,load:({detail:l})=>G(l),error:({detail:l})=>I(l)},children:(l,R)=>{je(l,{get i18n(){return e.i18n},type:"file"})},$$slots:{default:!0}}),m(j,z)},$$slots:{default:!0}})}};H(K,o=>{e.shared.interactive?o(y,!1):o(N)})}m(J,U),ce()}export{xt as BaseExample,Ce as BaseModel3D,Te as BaseModel3DUpload,yt as default};
