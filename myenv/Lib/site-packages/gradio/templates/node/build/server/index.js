import { e } from './chunks/dev-fallback-Bc5Ork7Y.js';
import { j as json, t as text, R as Redirect, S as SvelteKitError, H as HttpError, e as error, A as ActionFailure } from './chunks/index-Djsj11qr.js';
import { f, h as h$1, e as e$1, E as E$1, i, j as j$1, I as I$2, y, R as R$1, w as with_request_store, L as L$1, U as U$2, T as T$1, C as C$2, t, s, x as x$2, O as O$2, l, c, P as P$2, a as try_get_request_store, r, o, b as c$1 } from './chunks/exports-zqZxW1qG.js';
import { a as asClassComponent } from './chunks/legacy-server-Di8ad3A-.js';
import { s as setContext, r as readable, w as writable } from './chunks/async-CzcUsEnc.js';
import { a } from './chunks/index5-BoOEKc6P.js';
import './chunks/index-BpsnIWh9.js';

/**
 * @template {{ tracing: { enabled: boolean, root: import('@opentelemetry/api').Span, current: import('@opentelemetry/api').Span } }} T
 * @param {T} event_like
 * @param {import('@opentelemetry/api').Span} current
 * @returns {T}
 */
function merge_tracing(event_like, current) {
	return {
		...event_like,
		tracing: {
			...event_like.tracing,
			current
		}
	};
}

let x$1={},G$1=n=>n?.stack;function O$1(n){}function P$1(n){x$1=n;}let k$1=null;function I$1(n){k$1=n;}function j(n,e){n.component(t=>{let{stores:i,page:a$1,constructors:s$1,components:u=[],form:r,data_0:c=null,data_1:f=null}=e;a||setContext("__svelte__",i),a||i.page.set(a$1);const g=s$1[1];if(s$1[1]){t.push("<!--[-->");const o=s$1[0];t.push("<!---->"),o(t,{data:c,form:r,params:a$1.params,children:p=>{p.push("<!---->"),g(p,{data:f,form:r,params:a$1.params}),p.push("<!---->");},$$slots:{default:true}}),t.push("<!---->");}else {t.push("<!--[!-->");const o=s$1[0];t.push("<!---->"),o(t,{data:c,form:r,params:a$1.params}),t.push("<!---->");}t.push("<!--]--> "),t.push("<!--[!-->"),t.push("<!--]-->");});}const C$1=asClassComponent(j),M$2={app_template_contains_nonce:false,async:true,csp:{mode:"auto",directives:{"upgrade-insecure-requests":false,"block-all-mixed-content":false},reportOnly:{"upgrade-insecure-requests":false,"block-all-mixed-content":false}},csrf_check_origin:true,csrf_trusted_origins:[],embedded:false,env_public_prefix:"PUBLIC_",env_private_prefix:"",hash_routing:false,hooks:null,preload_strategy:"modulepreload",root:C$1,service_worker:false,service_worker_options:void 0,templates:{app:({head:n,body:e,assets:t,nonce:i,env:a})=>`<!doctype html>
<html
	lang="en"
	style="
		margin: 0;
		padding: 0;
		min-height: 100%;
		display: flex;
		flex-direction: column;
	"
>
	<head>
		<meta charset="utf-8" />
		<link rel="icon" href="/favicon.ico" />
		<meta name="viewport" content="width=device-width, initial-scale=1" />
		<meta property="og:title" content="Gradio" />
		<meta property="og:type" content="website" />
		<meta property="og:url" content="{url}" />
		<meta property="og:description" content="Click to try out the app!" />
		<meta
			property="og:image"
			content="https://raw.githubusercontent.com/gradio-app/gradio/main/js/_website/src/lib/assets/img/header-image.jpg"
		/>
		<meta name="twitter:card" content="summary_large_image" />
		<meta name="twitter:creator" content="@Gradio" />
		<meta name="twitter:title" content="Gradio" />
		<meta name="twitter:description" content="Click to try out the app!" />
		<meta
			name="twitter:image"
			content="https://raw.githubusercontent.com/gradio-app/gradio/main/js/_website/src/lib/assets/img/header-image.jpg"
		/>
		<script data-gradio-mode>
			window.__gradio_mode__ = "app";
			window.iFrameResizer = {
				autoResize: false,
				sizeWidth: false
			};
			window.parent?.postMessage(
				{ type: "SET_SCROLLING", enabled: false },
				"*"
			);
		<\/script>
		<script
			src="https://cdnjs.cloudflare.com/ajax/libs/iframe-resizer/4.3.1/iframeResizer.contentWindow.min.js"
			async
		><\/script>

		`+n+`
	</head>
	<body
		data-sveltekit-preload-data="hover"
		style="
			width: 100%;
			margin: 0;
			padding: 0;
			display: flex;
			flex-direction: column;
			flex-grow: 1;
		"
	>
		<div style="display: contents">`+e+`</div>
	</body>
</html>
`,error:({status:n,message:e})=>`<!doctype html>
<html lang="en">
	<head>
		<meta charset="utf-8" />
		<title>`+e+`</title>

		<style>
			body {
				--bg: white;
				--fg: #222;
				--divider: #ccc;
				background: var(--bg);
				color: var(--fg);
				font-family:
					system-ui,
					-apple-system,
					BlinkMacSystemFont,
					'Segoe UI',
					Roboto,
					Oxygen,
					Ubuntu,
					Cantarell,
					'Open Sans',
					'Helvetica Neue',
					sans-serif;
				display: flex;
				align-items: center;
				justify-content: center;
				height: 100vh;
				margin: 0;
			}

			.error {
				display: flex;
				align-items: center;
				max-width: 32rem;
				margin: 0 1rem;
			}

			.status {
				font-weight: 200;
				font-size: 3rem;
				line-height: 1;
				position: relative;
				top: -0.05rem;
			}

			.message {
				border-left: 1px solid var(--divider);
				padding: 0 0 0 1rem;
				margin: 0 0 0 1rem;
				min-height: 2.5rem;
				display: flex;
				align-items: center;
			}

			.message h1 {
				font-weight: 400;
				font-size: 1em;
				margin: 0;
			}

			@media (prefers-color-scheme: dark) {
				body {
					--bg: #222;
					--fg: #ddd;
					--divider: #666;
				}
			}
		</style>
	</head>
	<body>
		<div class="error">
			<span class="status">`+n+`</span>
			<div class="message">
				<h1>`+e+`</h1>
			</div>
		</div>
	</body>
</html>
`},version_hash:"afp0hc"};async function U$1(){return {handle:void 0,handleFetch:void 0,handleError:void 0,handleValidationError:void 0,init:void 0,reroute:void 0,transport:void 0}}

const q={"<":"\\u003C","\\":"\\\\","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","	":"\\t","\u2028":"\\u2028","\u2029":"\\u2029"};class g extends Error{constructor(a,r){super(a),this.name="DevalueError",this.path=r.join("");}}function S(e){return Object(e)!==e}const U=Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function R(e){const a=Object.getPrototypeOf(e);return a===Object.prototype||a===null||Object.getPrototypeOf(a)===null||Object.getOwnPropertyNames(a).sort().join("\0")===U}function B(e){return Object.prototype.toString.call(e).slice(8,-1)}function L(e){switch(e){case '"':return '\\"';case "<":return "\\u003C";case "\\":return "\\\\";case `
`:return "\\n";case "\r":return "\\r";case "	":return "\\t";case "\b":return "\\b";case "\f":return "\\f";case "\u2028":return "\\u2028";case "\u2029":return "\\u2029";default:return e<" "?`\\u${e.charCodeAt(0).toString(16).padStart(4,"0")}`:""}}function A(e){let a="",r=0;const t=e.length;for(let c=0;c<t;c+=1){const s=e[c],d=L(s);d&&(a+=e.slice(r,c)+d,r=c+1);}return `"${r===0?e:a+e.slice(r)}"`}function M$1(e){return Object.getOwnPropertySymbols(e).filter(a=>Object.getOwnPropertyDescriptor(e,a).enumerable)}const F=/^[a-zA-Z_$][a-zA-Z_$0-9]*$/;function T(e){return F.test(e)?"."+e:"["+JSON.stringify(e)+"]"}function V(e){const a=new DataView(e);let r="";for(let t=0;t<e.byteLength;t++)r+=String.fromCharCode(a.getUint8(t));return G(r)}function Y(e){const a=Z(e),r=new ArrayBuffer(a.length),t=new DataView(r);for(let c=0;c<r.byteLength;c++)t.setUint8(c,a.charCodeAt(c));return r}const k="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";function Z(e){e.length%4===0&&(e=e.replace(/==?$/,""));let a="",r=0,t=0;for(let c=0;c<e.length;c++)r<<=6,r|=k.indexOf(e[c]),t+=6,t===24&&(a+=String.fromCharCode((r&16711680)>>16),a+=String.fromCharCode((r&65280)>>8),a+=String.fromCharCode(r&255),r=t=0);return t===12?(r>>=4,a+=String.fromCharCode(r)):t===18&&(r>>=2,a+=String.fromCharCode((r&65280)>>8),a+=String.fromCharCode(r&255)),a}function G(e){let a="";for(let r=0;r<e.length;r+=3){const t=[void 0,void 0,void 0,void 0];t[0]=e.charCodeAt(r)>>2,t[1]=(e.charCodeAt(r)&3)<<4,e.length>r+1&&(t[1]|=e.charCodeAt(r+1)>>4,t[2]=(e.charCodeAt(r+1)&15)<<2),e.length>r+2&&(t[2]|=e.charCodeAt(r+2)>>6,t[3]=e.charCodeAt(r+2)&63);for(let c=0;c<t.length;c++)typeof t[c]>"u"?a+="=":a+=k[t[c]];}return a}const w=-1,C=-2,h=-3,P=-4,E=-5,O=-6;function J(e,a){return z(JSON.parse(e),a)}function z(e,a){if(typeof e=="number")return c(e,true);if(!Array.isArray(e)||e.length===0)throw new Error("Invalid input");const r=e,t=Array(r.length);function c(s,d=false){if(s===w)return;if(s===h)return NaN;if(s===P)return 1/0;if(s===E)return  -1/0;if(s===O)return  -0;if(d||typeof s!="number")throw new Error("Invalid input");if(s in t)return t[s];const o=r[s];if(!o||typeof o!="object")t[s]=o;else if(Array.isArray(o))if(typeof o[0]=="string"){const p=o[0],n=a?.[p];if(n){let u=o[1];return typeof u!="number"&&(u=r.push(o[1])-1),t[s]=n(c(u))}switch(p){case "Date":t[s]=new Date(o[1]);break;case "Set":const u=new Set;t[s]=u;for(let f=1;f<o.length;f+=1)u.add(c(o[f]));break;case "Map":const i=new Map;t[s]=i;for(let f=1;f<o.length;f+=2)i.set(c(o[f]),c(o[f+1]));break;case "RegExp":t[s]=new RegExp(o[1],o[2]);break;case "Object":t[s]=Object(o[1]);break;case "BigInt":t[s]=BigInt(o[1]);break;case "null":const m=Object.create(null);t[s]=m;for(let f=1;f<o.length;f+=2)m[o[f]]=c(o[f+1]);break;case "Int8Array":case "Uint8Array":case "Uint8ClampedArray":case "Int16Array":case "Uint16Array":case "Int32Array":case "Uint32Array":case "Float32Array":case "Float64Array":case "BigInt64Array":case "BigUint64Array":{const f=globalThis[p],y=new f(c(o[1]));t[s]=o[2]!==void 0?y.subarray(o[2],o[3]):y;break}case "ArrayBuffer":{const f=o[1],y=Y(f);t[s]=y;break}case "Temporal.Duration":case "Temporal.Instant":case "Temporal.PlainDate":case "Temporal.PlainTime":case "Temporal.PlainDateTime":case "Temporal.PlainMonthDay":case "Temporal.PlainYearMonth":case "Temporal.ZonedDateTime":{const f=p.slice(9);t[s]=Temporal[f].from(o[1]);break}case "URL":{const f=new URL(o[1]);t[s]=f;break}case "URLSearchParams":{const f=new URLSearchParams(o[1]);t[s]=f;break}default:throw new Error(`Unknown type ${p}`)}}else {const p=new Array(o.length);t[s]=p;for(let n=0;n<o.length;n+=1){const u=o[n];u!==C&&(p[n]=c(u));}}else {const p={};t[s]=p;for(const n in o){if(n==="__proto__")throw new Error("Cannot parse an object with a `__proto__` property");const u=o[n];p[n]=c(u);}}return t[s]}return c(0)}function x(e,a){const r=[],t=new Map,c=[];if(a)for(const n of Object.getOwnPropertyNames(a))c.push({key:n,fn:a[n]});const s=[];let d=0;function o(n){if(typeof n=="function")throw new g("Cannot stringify a function",s);if(n===void 0)return w;if(Number.isNaN(n))return h;if(n===1/0)return P;if(n===-1/0)return E;if(n===0&&1/n<0)return O;if(t.has(n))return t.get(n);const u=d++;t.set(n,u);for(const{key:m,fn:f}of c){const y=f(n);if(y)return r[u]=`["${m}",${o(y)}]`,u}let i="";if(S(n))i=_(n);else {const m=B(n);switch(m){case "Number":case "String":case "Boolean":i=`["Object",${_(n)}]`;break;case "BigInt":i=`["BigInt",${n}]`;break;case "Date":i=`["Date","${!isNaN(n.getDate())?n.toISOString():""}"]`;break;case "URL":i=`["URL",${A(n.toString())}]`;break;case "URLSearchParams":i=`["URLSearchParams",${A(n.toString())}]`;break;case "RegExp":const{source:y,flags:j}=n;i=j?`["RegExp",${A(y)},"${j}"]`:`["RegExp",${A(y)}]`;break;case "Array":i="[";for(let l=0;l<n.length;l+=1)l>0&&(i+=","),l in n?(s.push(`[${l}]`),i+=o(n[l]),s.pop()):i+=C;i+="]";break;case "Set":i='["Set"';for(const l of n)i+=`,${o(l)}`;i+="]";break;case "Map":i='["Map"';for(const[l,b]of n)s.push(`.get(${S(l)?_(l):"..."})`),i+=`,${o(l)},${o(b)}`,s.pop();i+="]";break;case "Int8Array":case "Uint8Array":case "Uint8ClampedArray":case "Int16Array":case "Uint16Array":case "Int32Array":case "Uint32Array":case "Float32Array":case "Float64Array":case "BigInt64Array":case "BigUint64Array":{const l=n;i='["'+m+'",'+o(l.buffer);const b=n.byteOffset,I=b+n.byteLength;if(b>0||I!==l.buffer.byteLength){const $=+/(\d+)/.exec(m)[1]/8;i+=`,${b/$},${I/$}`;}i+="]";break}case "ArrayBuffer":{i=`["ArrayBuffer","${V(n)}"]`;break}case "Temporal.Duration":case "Temporal.Instant":case "Temporal.PlainDate":case "Temporal.PlainTime":case "Temporal.PlainDateTime":case "Temporal.PlainMonthDay":case "Temporal.PlainYearMonth":case "Temporal.ZonedDateTime":i=`["${m}",${A(n.toString())}]`;break;default:if(!R(n))throw new g("Cannot stringify arbitrary non-POJOs",s);if(M$1(n).length>0)throw new g("Cannot stringify POJOs with symbolic keys",s);if(Object.getPrototypeOf(n)===null){i='["null"';for(const l in n)s.push(T(l)),i+=`,${A(l)},${o(n[l])}`,s.pop();i+="]";}else {i="{";let l=false;for(const b in n)l&&(i+=","),l=true,s.push(T(b)),i+=`${A(b)}:${o(n[b])}`,s.pop();i+="}";}}}return r[u]=i,u}const p=o(e);return p<0?`${p}`:`[${r.join(",")}]`}function _(e){const a=typeof e;return a==="string"?A(e):e instanceof String?A(e.toString()):e===void 0?w.toString():e===0&&1/e<0?O.toString():a==="bigint"?`["BigInt","${e}"]`:String(e)}function Q(e,a){const r=/^(moz-icon|view-source|jar):/.exec(a);r&&console.warn(`${e}: Calling \`depends('${a}')\` will throw an error in Firefox because \`${r[1]}\` is a special URI scheme`);}const W$1="x-sveltekit-invalidated",X="x-sveltekit-trailing-slash";function ee(e,a){if(e!=null&&Object.getPrototypeOf(e)!==Object.prototype)throw new Error(`a load function ${a} returned ${typeof e!="object"?`a ${typeof e}`:e instanceof Response?"a Response object":Array.isArray(e)?"an array":"a non-plain object"}, but must return a plain object at the top level (i.e. \`return {...}\`)`)}function H(e,a){const r=Object.fromEntries(Object.entries(a).map(([t,c])=>[t,c.encode]));return x(e,r)}function te(e,a){if(!e)return;const r=f.decode(h$1(e.replaceAll("-","+").replaceAll("_","/"))),t=Object.fromEntries(Object.entries(a).map(([c,s])=>[c,s.decode]));return J(r,t)}function ne$1(e,a){return e+"/"+a}

function jt(){let e,t;return {promise:new Promise((n,s)=>{e=n,t=s;}),resolve:e,reject:t}}const Pr=[101,103,204,205,304],Ur=!!globalThis.process?.versions?.webcontainer,qr="/_svelte_kit_assets",Rt=["GET","POST","PUT","PATCH","DELETE","OPTIONS","HEAD"],Nr=["GET","POST","HEAD"];function Ve(e,t){const r=[];e.split(",").forEach((a,c)=>{const d=/([^/ \t]+)\/([^; \t]+)[ \t]*(?:;[ \t]*q=([0-9.]+))?/.exec(a);if(d){const[,o,i,l="1"]=d;r.push({type:o,subtype:i,q:+l,i:c});}}),r.sort((a,c)=>a.q!==c.q?c.q-a.q:a.subtype==="*"!=(c.subtype==="*")?a.subtype==="*"?1:-1:a.type==="*"!=(c.type==="*")?a.type==="*"?1:-1:a.i-c.i);let n,s=1/0;for(const a of t){const[c,d]=a.split("/"),o=r.findIndex(i=>(i.type===c||i.type==="*")&&(i.subtype===d||i.subtype==="*"));o!==-1&&o<s&&(n=a,s=o);}return n}function Dr(e,...t){const r=e.headers.get("content-type")?.split(";",1)[0].trim()??"";return t.includes(r.toLowerCase())}function Ge(e){return Dr(e,"application/x-www-form-urlencoded","multipart/form-data","text/plain")}function Lr(e){return e instanceof Error||e&&e.name&&e.message?e:new Error(JSON.stringify(e))}function ce(e){return e instanceof HttpError||e instanceof SvelteKitError?e.status:500}function zr(e){return e instanceof SvelteKitError?e.text:"Internal Error"}const Tt={"&":"&amp;",'"':"&quot;"},Ot={"&":"&amp;","<":"&lt;"},Ct="[\\ud800-\\udbff](?![\\udc00-\\udfff])|[\\ud800-\\udbff][\\udc00-\\udfff]|[\\udc00-\\udfff]",Ir=new RegExp(`[${Object.keys(Tt).join("")}]|`+Ct,"g"),Hr=new RegExp(`[${Object.keys(Ot).join("")}]|`+Ct,"g");function Je(e,t){const r=t?Tt:Ot;return e.replace(t?Ir:Hr,s=>s.length===2?s:r[s]??`&#${s.charCodeAt(0)};`)}function Pt(e,t){return text(`${t} method not allowed`,{status:405,headers:{allow:Mr(e).join(", ")}})}function Mr(e){const t=Rt.filter(r=>r in e);return "GET"in e&&!("HEAD"in e)&&t.push("HEAD"),t}function Ut(e$1){return e?"__sveltekit_dev":`__sveltekit_${e$1.version_hash}`}function Ae(e$1,t,r){let n=e$1.templates.error({status:t,message:Je(r)});return e&&(n=n.replace("</head>",'<script type="module" src="/@vite/client"><\/script></head>')),text(n,{headers:{"content-type":"text/html; charset=utf-8"},status:t})}async function ct(e,t,r,n){n=n instanceof HttpError?n:Lr(n);const s=ce(n),a=await M(e,t,r,n),c=Ve(e.request.headers.get("accept")||"text/html",["application/json","text/html"]);return e.isDataRequest||c==="application/json"?json(a,{status:s}):Ae(r,s,a.message)}async function M(e$1,t,r,n){if(n instanceof HttpError)return {message:"Unknown Error",...n.body};e&&typeof n=="object"&&G$1(n);const s=ce(n),a=zr(n);return await with_request_store({event:e$1,state:t},()=>r.hooks.handleError({error:n,event:e$1,status:s,message:a}))??{message:a}}function Se(e,t){return new Response(void 0,{status:e,headers:{location:t}})}function qt(e,t){return t.path?`Data returned from \`load\` while rendering ${e.route.id} is not serializable: ${t.message} (${t.path}). If you need to serialize/deserialize custom types, use transport hooks: https://svelte.dev/docs/kit/hooks#Universal-hooks-transport.`:t.path===""?`Data returned from \`load\` while rendering ${e.route.id} is not a plain object`:t.message}function Nt(e){const t={};return e.uses&&e.uses.dependencies.size>0&&(t.dependencies=Array.from(e.uses.dependencies)),e.uses&&e.uses.search_params.size>0&&(t.search_params=Array.from(e.uses.search_params)),e.uses&&e.uses.params.size>0&&(t.params=Array.from(e.uses.params)),e.uses?.parent&&(t.parent=1),e.uses?.route&&(t.route=1),e.uses?.url&&(t.url=1),t}function Dt(e,t){return e._.prerendered_routes.has(t)||t.at(-1)==="/"&&e._.prerendered_routes.has(t.slice(0,-1))}function Wr(e$1,t,r){const n=`
\x1B[1;31m[${e$1}] ${r.request.method} ${r.url.pathname}\x1B[0m`;return e$1===404?n:`${n}
${e?Br(t):t.stack}`}let Lt=e=>e;if(e)try{const e=await import('node:path'),t=await import('node:process');Lt=r=>e.relative(t.cwd(),r);}catch{}function Br(e){const t=(e.stack?.split(`
`)??[]).map(n=>n.replace(/\((.+)(:\d+:\d+)\)$/,(s,a,c)=>`(${Lt(a)}${c})`)),r=t.findLastIndex(n=>/\(src[\\/]/.test(n));return r===-1?e.stack:t.slice(0,r+1).join(`
`)}function zt(e){const r=e?.split("/")?.at(-1);return r?r.split(".").slice(0,-1).join("."):"unknown"}async function Fr(e,t,r,n){const s=e.request.method;let a=r[s]||r.fallback;if(s==="HEAD"&&!r.HEAD&&r.GET&&(a=r.GET),!a)return Pt(r,s);const c=r.prerender??n.prerender_default;if(c&&(r.POST||r.PATCH||r.PUT||r.DELETE))throw new Error("Cannot prerender endpoints that have mutative methods");if(n.prerendering&&!n.prerendering.inside_reroute&&!c){if(n.depth>0)throw new Error(`${e.route.id} is not prerenderable`);return new Response(void 0,{status:204})}t.is_endpoint_request=true;try{const d=await with_request_store({event:e,state:t},()=>a(e));if(!(d instanceof Response))throw new Error(`Invalid response from route ${e.url.pathname}: handler should return a Response object`);if(n.prerendering&&(!n.prerendering.inside_reroute||c)){const o=new Response(d.clone().body,{status:d.status,statusText:d.statusText,headers:new Headers(d.headers)});if(o.headers.set("x-sveltekit-prerender",String(c)),n.prerendering.inside_reroute&&c)o.headers.set("x-sveltekit-routeid",encodeURI(e.route.id)),n.prerendering.dependencies.set(e.url.pathname,{response:o,body:null});else return o}return d}catch(d){if(d instanceof Redirect)return new Response(void 0,{status:d.status,headers:{location:d.location}});throw d}}function Vr(e){const{method:t,headers:r}=e.request;if(Rt.includes(t)&&!Nr.includes(t))return  true;if(t==="POST"&&r.get("x-sveltekit-action")==="true")return  false;const n=e.request.headers.get("accept")??"*/*";return Ve(n,["*","text/html"])!=="text/html"}function Ie(e){return e.filter(t=>t!=null)}const Ze="/__data.json",je=".html__data.json";function Gr(e){return e.endsWith(Ze)||e.endsWith(je)}function Ke(e){return e.endsWith(".html")?e.replace(/\.html$/,je):e.replace(/\/$/,"")+Ze}function Jr(e){return e.endsWith(je)?e.slice(0,-je.length)+".html":e.slice(0,-Ze.length)}const Xe="/__route.js";function Zr(e){return e.endsWith(Xe)}function It(e){return e.replace(/\/$/,"")+Xe}function Kr(e){return e.slice(0,-Xe.length)}const Pe="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ_$",Xr=/[<\b\f\n\r\t\0\u2028\u2029]/g,Yr=/^(?:do|if|in|for|int|let|new|try|var|byte|case|char|else|enum|goto|long|this|void|with|await|break|catch|class|const|final|float|short|super|throw|while|yield|delete|double|export|import|native|return|switch|throws|typeof|boolean|default|extends|finally|package|private|abstract|continue|debugger|function|volatile|interface|protected|transient|implements|instanceof|synchronized)$/;function W(e,t){const r=new Map,n=[],s=new Map;function a(i){if(typeof i=="function")throw new g("Cannot stringify a function",n);if(!S(i)){if(r.has(i)){r.set(i,r.get(i)+1);return}if(r.set(i,1),t){const u=t(i,_=>W(_,t));if(typeof u=="string"){s.set(i,u);return}}switch(B(i)){case "Number":case "BigInt":case "String":case "Boolean":case "Date":case "RegExp":case "URL":case "URLSearchParams":return;case "Array":i.forEach((u,_)=>{n.push(`[${_}]`),a(u),n.pop();});break;case "Set":Array.from(i).forEach(a);break;case "Map":for(const[u,_]of i)n.push(`.get(${S(u)?Ue(u):"..."})`),a(_),n.pop();break;case "Int8Array":case "Uint8Array":case "Uint8ClampedArray":case "Int16Array":case "Uint16Array":case "Int32Array":case "Uint32Array":case "Float32Array":case "Float64Array":case "BigInt64Array":case "BigUint64Array":a(i.buffer);return;case "ArrayBuffer":return;case "Temporal.Duration":case "Temporal.Instant":case "Temporal.PlainDate":case "Temporal.PlainTime":case "Temporal.PlainDateTime":case "Temporal.PlainMonthDay":case "Temporal.PlainYearMonth":case "Temporal.ZonedDateTime":return;default:if(!R(i))throw new g("Cannot stringify arbitrary non-POJOs",n);if(M$1(i).length>0)throw new g("Cannot stringify POJOs with symbolic keys",n);for(const u in i)n.push(T(u)),a(i[u]),n.pop();}}}a(e);const c=new Map;Array.from(r).filter(i=>i[1]>1).sort((i,l)=>l[1]-i[1]).forEach((i,l)=>{c.set(i[0],Qr(l));});function d(i){if(c.has(i))return c.get(i);if(S(i))return Ue(i);if(s.has(i))return s.get(i);const l=B(i);switch(l){case "Number":case "String":case "Boolean":return `Object(${d(i.valueOf())})`;case "RegExp":return `new RegExp(${A(i.source)}, "${i.flags}")`;case "Date":return `new Date(${i.getTime()})`;case "URL":return `new URL(${A(i.toString())})`;case "URLSearchParams":return `new URLSearchParams(${A(i.toString())})`;case "Array":const u=i.map((h,y)=>y in i?d(h):""),_=i.length===0||i.length-1 in i?"":",";return `[${u.join(",")}${_}]`;case "Set":case "Map":return `new ${l}([${Array.from(i).map(d).join(",")}])`;case "Int8Array":case "Uint8Array":case "Uint8ClampedArray":case "Int16Array":case "Uint16Array":case "Int32Array":case "Uint32Array":case "Float32Array":case "Float64Array":case "BigInt64Array":case "BigUint64Array":{let h=`new ${l}`;if(r.get(i.buffer)===1){const E=new i.constructor(i.buffer);h+=`([${E}])`;}else h+=`([${d(i.buffer)}])`;const y=i.byteOffset,b=y+i.byteLength;if(y>0||b!==i.buffer.byteLength){const E=+/(\d+)/.exec(l)[1]/8;h+=`.subarray(${y/E},${b/E})`;}return h}case "ArrayBuffer":return `new Uint8Array([${new Uint8Array(i).toString()}]).buffer`;case "Temporal.Duration":case "Temporal.Instant":case "Temporal.PlainDate":case "Temporal.PlainTime":case "Temporal.PlainDateTime":case "Temporal.PlainMonthDay":case "Temporal.PlainYearMonth":case "Temporal.ZonedDateTime":return `${l}.from(${A(i.toString())})`;default:const p=Object.keys(i),m=p.map(h=>`${tn(h)}:${d(i[h])}`).join(",");return Object.getPrototypeOf(i)===null?p.length>0?`{${m},__proto__:null}`:"{__proto__:null}":`{${m}}`}}const o=d(e);if(c.size){const i=[],l=[],u=[];return c.forEach((_,p)=>{if(i.push(_),s.has(p)){u.push(s.get(p));return}if(S(p)){u.push(Ue(p));return}switch(B(p)){case "Number":case "String":case "Boolean":u.push(`Object(${d(p.valueOf())})`);break;case "RegExp":u.push(p.toString());break;case "Date":u.push(`new Date(${p.getTime()})`);break;case "Array":u.push(`Array(${p.length})`),p.forEach((f,h)=>{l.push(`${_}[${h}]=${d(f)}`);});break;case "Set":u.push("new Set"),l.push(`${_}.${Array.from(p).map(f=>`add(${d(f)})`).join(".")}`);break;case "Map":u.push("new Map"),l.push(`${_}.${Array.from(p).map(([f,h])=>`set(${d(f)}, ${d(h)})`).join(".")}`);break;case "ArrayBuffer":u.push(`new Uint8Array([${new Uint8Array(p).join(",")}]).buffer`);break;default:u.push(Object.getPrototypeOf(p)===null?"Object.create(null)":"{}"),Object.keys(p).forEach(f=>{l.push(`${_}${rn(f)}=${d(p[f])}`);});}}),l.push(`return ${o}`),`(function(${i.join(",")}){${l.join(";")}}(${u.join(",")}))`}else return o}function Qr(e){let t="";do t=Pe[e%Pe.length]+t,e=~~(e/Pe.length)-1;while(e>=0);return Yr.test(t)?`${t}0`:t}function en(e){return q[e]||e}function Ht(e){return e.replace(Xr,en)}function tn(e){return /^[_$a-zA-Z][_$a-zA-Z0-9]*$/.test(e)?e:Ht(JSON.stringify(e))}function rn(e){return /^[_$a-zA-Z][_$a-zA-Z0-9]*$/.test(e)?`.${e}`:`[${Ht(JSON.stringify(e))}]`}function Ue(e){if(typeof e=="string")return A(e);if(e===void 0)return "void 0";if(e===0&&1/e<0)return "-0";const t=String(e);return typeof e=="number"?t.replace(/^(-)?0\./,"$1."):typeof e=="bigint"?e+"n":t}const nn={spanContext(){return sn},setAttribute(){return this},setAttributes(){return this},addEvent(){return this},setStatus(){return this},updateName(){return this},end(){return this},isRecording(){return  false},recordException(){return this},addLink(){return this},addLinks(){return this}},sn={traceId:"",spanId:"",traceFlags:0};async function ne({name:e,attributes:t,fn:r}){return r(nn)}function Mt(e){return Ve(e.request.headers.get("accept")??"*/*",["application/json","text/html"])==="application/json"&&e.request.method==="POST"}async function an(e$1,t,r,n){const s=n?.actions;if(!s){const a=new SvelteKitError(405,"Method Not Allowed",`POST method not allowed. No form actions exist for ${e?`the page at ${e$1.route.id}`:"this page"}`);return pe({type:"error",error:await M(e$1,t,r,a)},{status:a.status,headers:{allow:"GET"}})}Bt(s);try{const a=await Ft(e$1,t,s);return e&&Vt(a),a instanceof ActionFailure?pe({type:"failure",status:a.status,data:lt(a.data,e$1.route.id,r.hooks.transport)}):pe({type:"success",status:a?200:204,data:lt(a,e$1.route.id,r.hooks.transport)})}catch(a){const c=a;return c instanceof Redirect?Wt(c):pe({type:"error",error:await M(e$1,t,r,Ye(c))},{status:ce(c)})}}function Ye(e){return e instanceof ActionFailure?new Error('Cannot "throw fail()". Use "return fail()"'):e}function Wt(e){return pe({type:"redirect",status:e.status,location:e.location})}function pe(e,t){return json(e,t)}function on(e){return e.request.method==="POST"}async function cn(e$1,t,r){const n=r?.actions;if(!n)return e$1.setHeaders({allow:"GET"}),{type:"error",error:new SvelteKitError(405,"Method Not Allowed",`POST method not allowed. No form actions exist for ${e?`the page at ${e$1.route.id}`:"this page"}`)};Bt(n);try{const s=await Ft(e$1,t,n);return e&&Vt(s),s instanceof ActionFailure?{type:"failure",status:s.status,data:s.data}:{type:"success",status:200,data:s}}catch(s){const a=s;return a instanceof Redirect?{type:"redirect",status:a.status,location:a.location}:{type:"error",error:Ye(a)}}}function Bt(e){if(e.default&&Object.keys(e).length>1)throw new Error("When using named actions, the default action cannot be used. See the docs for more info: https://svelte.dev/docs/kit/form-actions#named-actions")}async function Ft(e,t,r){const n=new URL(e.request.url);let s="default";for(const c of n.searchParams)if(c[0].startsWith("/")){if(s=c[0].slice(1),s==="default")throw new Error('Cannot use reserved action name "default"');break}const a=r[s];if(!a)throw new SvelteKitError(404,"Not Found",`No action with name '${s}' found`);if(!Ge(e.request))throw new SvelteKitError(415,"Unsupported Media Type",`Form actions expect form-encoded data — received ${e.request.headers.get("content-type")}`);return ne({name:"sveltekit.form_action",attributes:{"http.route":e.route.id||"unknown"},fn:async c=>{const d=merge_tracing(e,c),o=await with_request_store({event:d,state:t},()=>a(d));return o instanceof ActionFailure&&c.setAttributes({"sveltekit.form_action.result.type":"failure","sveltekit.form_action.result.status":o.status}),o}})}function Vt(e){if(e instanceof Redirect)throw new Error("Cannot `return redirect(...)` — use `redirect(...)` instead");if(e instanceof HttpError)throw new Error("Cannot `return error(...)` — use `error(...)` or `return fail(...)` instead")}function ln(e,t,r){const n=s=>{for(const a in r){const c=r[a].encode(s);if(c)return `app.decode('${a}', ${W(c,n)})`}};return Gt(e,s=>W(s,n),t)}function lt(e,t,r){const n=Object.fromEntries(Object.entries(r).map(([s,a])=>[s,a.encode]));return Gt(e,s=>x(s,n),t)}function Gt(e,t,r){try{return t(e)}catch(n){const s=n;if(e instanceof Response)throw new Error(`Data returned from action inside ${r} is not serializable. Form actions need to return plain objects or fail(). E.g. return { success: true } or return fail(400, { message: "invalid" });`);if("path"in s){let a=`Data returned from action inside ${r} is not serializable: ${s.message}`;throw s.path!==""&&(a+=` (data.${s.path})`),new Error(a)}throw s}}function Jt(){let e=-1,t=-1;const r=[];return {iterate:(n=s=>s)=>({[Symbol.asyncIterator](){return {next:async()=>{const s=r[++t];if(!s)return {value:null,done:true};const a=await s.promise;return {value:n(a),done:false}}}}}),add:n=>{r.push(jt()),n.then(s=>{r[++e].resolve(s);});}}}function he(e,t,r){let n=1,s=-1;const a=Jt(),c=Ut(r);function d(i){return function l(u){if(typeof u?.then=="function"){const _=n++,p=u.then(m=>({data:m})).catch(async m=>({error:await M(e,t,r,m)})).then(async({data:m,error:f})=>{let h;try{h=W(f?[,f]:[m],l);}catch{f=await M(e,t,r,new Error(`Failed to serialize promise while rendering ${e.route.id}`)),m=void 0,h=W([,f],l);}return {index:i,str:`${c}.resolve(${_}, ${h.includes("app.decode")?`(app) => ${h}`:`() => ${h}`})`}});return a.add(p),`${c}.defer(${_})`}else for(const _ in r.hooks.transport){const p=r.hooks.transport[_].encode(u);if(p)return `app.decode('${_}', ${W(p,l)})`}}}const o=[];return {set_max_nodes(i){s=i;},add_node(i,l){try{if(!l){o[i]="null";return}const u={type:"data",data:l.data,uses:Nt(l)};l.slash&&(u.slash=l.slash),o[i]=W(u,d(i));}catch(u){throw u.path=u.path.slice(1),new Error(qt(e,u))}},get_data(i){const l=`<script${i.script_needs_nonce?` nonce="${i.nonce}"`:""}>`,u=`<\/script>
`;return {data:`[${Ie(s>-1?o.slice(0,s):o).join(",")}]`,chunks:n>1?a.iterate(({index:_,str:p})=>s>-1&&_>=s?"":l+p+u):null}}}}function Zt(e,t,r){let n=1;const s=Jt(),a={...Object.fromEntries(Object.entries(r.hooks.transport).map(([d,o])=>[d,o.encode])),Promise:d=>{if(typeof d?.then!="function")return;const o=n++;let i="data";const l=d.catch(async u=>(i="error",M(e,t,r,u))).then(async u=>{let _;try{_=x(u,a);}catch{const p=await M(e,t,r,new Error(`Failed to serialize promise while rendering ${e.route.id}`));i="error",_=x(p,a);}return `{"type":"chunk","id":${o},"${i}":${_}}
`});return s.add(l),o}},c=[];return {add_node(d,o){try{if(!o){c[d]="null";return}if(o.type==="error"||o.type==="skip"){c[d]=JSON.stringify(o);return}c[d]=`{"type":"data","data":${x(o.data,a)},"uses":${JSON.stringify(Nt(o))}${o.slash?`,"slash":${JSON.stringify(o.slash)}`:""}}`;}catch(i){throw i.path="data"+i.path,new Error(qt(e,i))}},get_data(){return {data:`{"type":"data","nodes":[${c.join(",")}]}
`,chunks:n>1?s.iterate():null}}}}async function Qe({event:e$1,event_state:t,state:r,node:n,parent:s}){if(!n?.server)return null;let a=true;const c={dependencies:new Set,params:new Set,parent:false,route:false,url:false,search_params:new Set},d=n.server.load,o=n.server.trailingSlash;if(!d)return {type:"data",data:null,uses:c,slash:o};const i=O$2(e$1.url,()=>{e&&l&&!c.url&&console.warn(`${n.server_id}: Accessing URL properties in a promise handler after \`load(...)\` has returned will not cause the function to re-run when the URL changes`),a&&(c.url=true);},_=>{e&&l&&!c.search_params.has(_)&&console.warn(`${n.server_id}: Accessing URL properties in a promise handler after \`load(...)\` has returned will not cause the function to re-run when the URL changes`),a&&c.search_params.add(_);});r.prerendering&&R$1(i);let l=false;const u=await ne({name:"sveltekit.load",attributes:{"sveltekit.load.node_id":n.server_id||"unknown","sveltekit.load.node_type":zt(n.server_id),"http.route":e$1.route.id||"unknown"},fn:async _=>{const p=merge_tracing(e$1,_);return await with_request_store({event:p,state:t},()=>d.call(null,{...p,fetch:(f,h)=>{const y=new URL(f instanceof Request?f.url:f,e$1.url);return e&&l&&!c.dependencies.has(y.href)&&console.warn(`${n.server_id}: Calling \`event.fetch(...)\` in a promise handler after \`load(...)\` has returned will not cause the function to re-run when the dependency is invalidated`),e$1.fetch(f,h)},depends:(...f)=>{for(const h of f){const{href:y}=new URL(h,e$1.url);e&&(Q(n.server_id||"missing route ID",h),l&&!c.dependencies.has(y)&&console.warn(`${n.server_id}: Calling \`depends(...)\` in a promise handler after \`load(...)\` has returned will not cause the function to re-run when the dependency is invalidated`)),c.dependencies.add(y);}},params:new Proxy(e$1.params,{get:(f,h)=>(e&&l&&typeof h=="string"&&!c.params.has(h)&&console.warn(`${n.server_id}: Accessing \`params.${String(h)}\` in a promise handler after \`load(...)\` has returned will not cause the function to re-run when the param changes`),a&&c.params.add(h),f[h])}),parent:async()=>(e&&l&&!c.parent&&console.warn(`${n.server_id}: Calling \`parent(...)\` in a promise handler after \`load(...)\` has returned will not cause the function to re-run when parent data changes`),a&&(c.parent=!0),s()),route:new Proxy(e$1.route,{get:(f,h)=>(e&&l&&typeof h=="string"&&!c.route&&console.warn(`${n.server_id}: Accessing \`route.${String(h)}\` in a promise handler after \`load(...)\` has returned will not cause the function to re-run when the route changes`),a&&(c.route=!0),f[h])}),url:i,untrack(f){a=!1;try{return f()}finally{a=!0;}}}))}});return e&&ee(u,`in ${n.server_id}`),l=true,{type:"data",data:u??null,uses:c,slash:o}}async function Kt({event:e$1,event_state:t,fetched:r,node:n,parent:s,server_data_promise:a,state:c,resolve_opts:d,csr:o}){const i=await a,l=n?.universal?.load;if(!l)return i?.data??null;const u=await ne({name:"sveltekit.load",attributes:{"sveltekit.load.node_id":n.universal_id||"unknown","sveltekit.load.node_type":zt(n.universal_id),"http.route":e$1.route.id||"unknown"},fn:async _=>{const p=merge_tracing(e$1,_);return await with_request_store({event:p,state:t},()=>l.call(null,{url:e$1.url,params:e$1.params,data:i?.data??null,route:e$1.route,fetch:un(e$1,c,r,o,d),setHeaders:e$1.setHeaders,depends:()=>{},parent:s,untrack:m=>m(),tracing:p.tracing}))}});return e&&ee(u,`in ${n.universal_id}`),u??null}function un(e,t,r,n,s){const a=async(c$1,d)=>{const o=c$1 instanceof Request&&c$1.body?c$1.clone().body:null,i=c$1 instanceof Request&&[...c$1.headers].length?new Headers(c$1.headers):d?.headers;let l=await e.fetch(c$1,d);const u=new URL(c$1 instanceof Request?c$1.url:c$1,e.url),_=u.origin===e.url.origin;let p;if(_)t.prerendering&&(p={response:l,body:null},t.prerendering.dependencies.set(u.pathname,p));else if(u.protocol==="https:"||u.protocol==="http:")if((c$1 instanceof Request?c$1.mode:d?.mode??"cors")==="no-cors")l=new Response("",{status:l.status,statusText:l.statusText,headers:l.headers});else {const y=l.headers.get("access-control-allow-origin");if(!y||y!==e.url.origin&&y!=="*")throw new Error(`CORS error: ${y?"Incorrect":"No"} 'Access-Control-Allow-Origin' header is present on the requested resource`)}let m;const f=new Proxy(l,{get(h,y,b){async function E(x,w){const $=Number(h.status);if(isNaN($))throw new Error(`response.status is not a number. value: "${h.status}" type: ${typeof h.status}`);r.push({url:_?u.href.slice(e.url.origin.length):u.href,method:e.request.method,request_body:c$1 instanceof Request&&o?await dn(o):d?.body,request_headers:i,response_body:x,response:h,is_b64:w});}if(y==="body"){if(h.body===null)return null;if(m)return m;const[x,w]=h.body.tee();return (async()=>{let $=new Uint8Array;for await(const g of x){const v=new Uint8Array($.length+g.length);v.set($,0),v.set(g,$.length),$=v;}p&&(p.body=new Uint8Array($)),E(c($),true);})(),m=w}if(y==="arrayBuffer")return async()=>{const x=await h.arrayBuffer(),w=new Uint8Array(x);return p&&(p.body=w),x instanceof ArrayBuffer&&await E(c(w),true),x};async function k(){const x=await h.text();if(x===""&&Pr.includes(h.status)){await E(void 0,false);return}return (!x||typeof x=="string")&&await E(x,false),p&&(p.body=x),x}return y==="text"?k:y==="json"?async()=>{const x=await k();return x?JSON.parse(x):void 0}:Reflect.get(h,y,h)}});if(n){const h=l.headers.get;l.headers.get=y=>{const b=y.toLowerCase(),E=h.call(l.headers,b);if(E&&!b.startsWith("x-sveltekit-")&&!s.filterSerializedResponseHeaders(b,E))throw new Error(`Failed to get response header "${b}" — it must be included by the \`filterSerializedResponseHeaders\` option: https://svelte.dev/docs/kit/hooks#Server-hooks-handle (at ${e.route.id})`);return E};}return f};return (c,d)=>{const o=a(c,d);return o.catch(()=>{}),o}}async function dn(e){let t="";const r=e.getReader();for(;;){const{done:n,value:s}=await r.read();if(n)break;t+=f.decode(s);}return t}function Xt(...e){let t=5381;for(const r of e)if(typeof r=="string"){let n=r.length;for(;n;)t=t*33^r.charCodeAt(--n);}else if(ArrayBuffer.isView(r)){const n=new Uint8Array(r.buffer,r.byteOffset,r.byteLength);let s=n.length;for(;s;)t=t*33^n[--s];}else throw new TypeError("value must be a string or TypedArray");return (t>>>0).toString(36)}const Yt={"<":"\\u003C","\u2028":"\\u2028","\u2029":"\\u2029"},fn=new RegExp(`[${Object.keys(Yt).join("")}]`,"g");function pn(e,t,r=false){const n={};let s=null,a=null,c=false;for(const[l,u]of e.response.headers)t(l,u)&&(n[l]=u),l==="cache-control"?s=u:l==="age"?a=u:l==="vary"&&u.trim()==="*"&&(c=true);const d={status:e.response.status,statusText:e.response.statusText,headers:n,body:e.response_body},o=JSON.stringify(d).replace(fn,l=>Yt[l]),i=['type="application/json"',"data-sveltekit-fetched",`data-url="${Je(e.url,true)}"`];if(e.is_b64&&i.push("data-b64"),e.request_headers||e.request_body){const l=[];e.request_headers&&l.push([...new Headers(e.request_headers)].join(",")),e.request_body&&l.push(e.request_body),i.push(`data-hash="${Xt(...l)}"`);}if(!r&&e.method==="GET"&&s&&!c){const l=/s-maxage=(\d+)/g.exec(s)??/max-age=(\d+)/g.exec(s);if(l){const u=+l[1]-+(a??"0");i.push(`data-ttl="${u}"`);}}return `<script ${i.join(" ")}>${o}<\/script>`}const I=JSON.stringify;function ut(e){He[0]||hn();const t=Qt.slice(0),r=_n(e);for(let s=0;s<r.length;s+=16){const a=r.subarray(s,s+16);let c,d,o,i=t[0],l=t[1],u=t[2],_=t[3],p=t[4],m=t[5],f=t[6],h=t[7];for(let y=0;y<64;y++)y<16?c=a[y]:(d=a[y+1&15],o=a[y+14&15],c=a[y&15]=(d>>>7^d>>>18^d>>>3^d<<25^d<<14)+(o>>>17^o>>>19^o>>>10^o<<15^o<<13)+a[y&15]+a[y+9&15]|0),c=c+h+(p>>>6^p>>>11^p>>>25^p<<26^p<<21^p<<7)+(f^p&(m^f))+He[y],h=f,f=m,m=p,p=_+c|0,_=u,u=l,l=i,i=c+(l&u^_&(l^u))+(l>>>2^l>>>13^l>>>22^l<<30^l<<19^l<<10)|0;t[0]=t[0]+i|0,t[1]=t[1]+l|0,t[2]=t[2]+u|0,t[3]=t[3]+_|0,t[4]=t[4]+p|0,t[5]=t[5]+m|0,t[6]=t[6]+f|0,t[7]=t[7]+h|0;}const n=new Uint8Array(t.buffer);return er(n),btoa(String.fromCharCode(...n))}const Qt=new Uint32Array(8),He=new Uint32Array(64);function hn(){function e(r){return (r-Math.floor(r))*4294967296}let t=2;for(let r=0;r<64;t++){let n=true;for(let s=2;s*s<=t;s++)if(t%s===0){n=false;break}n&&(r<8&&(Qt[r]=e(t**(1/2))),He[r]=e(t**(1/3)),r++);}}function er(e){for(let t=0;t<e.length;t+=4){const r=e[t+0],n=e[t+1],s=e[t+2],a=e[t+3];e[t+0]=a,e[t+1]=s,e[t+2]=n,e[t+3]=r;}}function _n(e){const t=s.encode(e),r=t.length*8,n=512*Math.ceil((r+65)/512),s$1=new Uint8Array(n/8);s$1.set(t),s$1[t.length]=128,er(s$1);const a=new Uint32Array(s$1.buffer);return a[a.length-2]=Math.floor(r/4294967296),a[a.length-1]=r,a}const dt=new Uint8Array(16);function mn(){return crypto.getRandomValues(dt),btoa(String.fromCharCode(...dt))}const yn=new Set(["self","unsafe-eval","unsafe-hashes","unsafe-inline","none","strict-dynamic","report-sample","wasm-unsafe-eval","script"]),wn=/^(nonce|sha\d\d\d)-/;class tr{#e;#t;#c;#l;#u;#d;#f;#p;#n;#s;#a;#o;#i;#r;#h;constructor(t,r,n){this.#e=t,this.#n=e?{...r}:r;const s=this.#n;this.#s=[],this.#a=[],this.#o=[],this.#i=[],this.#r=[];const a=s["script-src"]||s["default-src"],c=s["script-src-elem"],d=s["style-src"]||s["default-src"],o=s["style-src-attr"],i=s["style-src-elem"];e&&(d&&!d.includes("unsafe-inline")&&(s["style-src"]=[...d.filter(u=>!(u.startsWith("sha256-")||u.startsWith("nonce-"))),"unsafe-inline"]),o&&!o.includes("unsafe-inline")&&(s["style-src-attr"]=[...o.filter(u=>!(u.startsWith("sha256-")||u.startsWith("nonce-"))),"unsafe-inline"]),i&&!i.includes("unsafe-inline")&&(s["style-src-elem"]=[...i.filter(u=>!(u.startsWith("sha256-")||u.startsWith("nonce-"))),"unsafe-inline"]));const l=u=>!!u&&!u.some(_=>_==="unsafe-inline");this.#c=l(a),this.#l=l(c),this.#d=l(d),this.#f=l(o),this.#p=l(i),this.#t=this.#c||this.#l,this.#u=!e&&(this.#d||this.#f||this.#p),this.script_needs_nonce=this.#t&&!this.#e,this.style_needs_nonce=this.#u&&!this.#e,this.#h=n;}add_script(t){if(!this.#t)return;const r=this.#e?`sha256-${ut(t)}`:`nonce-${this.#h}`;this.#c&&this.#s.push(r),this.#l&&this.#a.push(r);}add_style(t){if(!this.#u)return;const r=this.#e?`sha256-${ut(t)}`:`nonce-${this.#h}`;if(this.#d&&this.#o.push(r),this.#f&&this.#i.push(r),this.#p){const n="sha256-9OlNO0DNEeaVzHL4RZwCLsBHA8WBQ8toBp/4F5XV2nc=",s=this.#n;s["style-src-elem"]&&!s["style-src-elem"].includes(n)&&!this.#r.includes(n)&&this.#r.push(n),r!==n&&this.#r.push(r);}}get_header(t=false){const r=[],n={...this.#n};this.#o.length>0&&(n["style-src"]=[...n["style-src"]||n["default-src"]||[],...this.#o]),this.#i.length>0&&(n["style-src-attr"]=[...n["style-src-attr"]||[],...this.#i]),this.#r.length>0&&(n["style-src-elem"]=[...n["style-src-elem"]||[],...this.#r]),this.#s.length>0&&(n["script-src"]=[...n["script-src"]||n["default-src"]||[],...this.#s]),this.#a.length>0&&(n["script-src-elem"]=[...n["script-src-elem"]||[],...this.#a]);for(const s in n){if(t&&(s==="frame-ancestors"||s==="report-uri"||s==="sandbox"))continue;const a=n[s];if(!a)continue;const c=[s];Array.isArray(a)&&a.forEach(d=>{yn.has(d)||wn.test(d)?c.push(`'${d}'`):c.push(d);}),r.push(c.join(" "));}return r.join("; ")}}class gn extends tr{get_meta(){const t=this.get_header(true);if(t)return `<meta http-equiv="content-security-policy" content="${Je(t,true)}">`}}class bn extends tr{constructor(t,r,n){if(super(t,r,n),Object.values(r).filter(s=>!!s).length>0){const s=r["report-to"]?.length??false,a=r["report-uri"]?.length??false;if(!s&&!a)throw Error("`content-security-policy-report-only` must be specified with either the `report-to` or `report-uri` directives, or both")}}}class $n{nonce=mn();csp_provider;report_only_provider;constructor({mode:t,directives:r,reportOnly:n},{prerender:s}){const a=t==="hash"||t==="auto"&&s;this.csp_provider=new gn(a,r,this.nonce),this.report_only_provider=new bn(a,n,this.nonce);}get script_needs_nonce(){return this.csp_provider.script_needs_nonce||this.report_only_provider.script_needs_nonce}get style_needs_nonce(){return this.csp_provider.style_needs_nonce||this.report_only_provider.style_needs_nonce}add_script(t){this.csp_provider.add_script(t),this.report_only_provider.add_script(t);}add_style(t){this.csp_provider.add_style(t),this.report_only_provider.add_style(t);}}function rr(e,t,r){const n={},s=e.slice(1),a=s.filter(d=>d!==void 0);let c=0;for(let d=0;d<t.length;d+=1){const o=t[d];let i=s[d-c];if(o.chained&&o.rest&&c&&(i=s.slice(d-c,d+1).filter(l=>l).join("/"),c=0),i===void 0){o.rest&&(n[o.name]="");continue}if(!o.matcher||r[o.matcher](i)){n[o.name]=i;const l=t[d+1],u=s[d+1];l&&!l.rest&&l.optional&&u&&o.chained&&(c=0),!l&&!u&&Object.keys(n).length===a.length&&(c=0);continue}if(o.optional&&o.chained){c++;continue}return}if(!c)return n}function nr(e,t,r){const{errors:n,layouts:s,leaf:a}=e,c=[...n,...s.map(d=>d?.[1]),a[1]].filter(d=>typeof d=="number").map(d=>`'${d}': () => ${sr(r._.client.nodes?.[d],t)}`).join(`,
		`);return [`{
	id: ${I(e.id)}`,`errors: ${I(e.errors)}`,`layouts: ${I(e.layouts)}`,`leaf: ${I(e.leaf)}`,`nodes: {
		${c}
	}
}`].join(`,
	`)}function sr(e,t$1){if(!e)return "Promise.resolve({})";if(e[0]==="/")return `import('${e}')`;if(t!=="")return `import('${t}/${e}')`;let r=l(t$1.pathname,`${e$1}/${e}`);return r[0]!=="."&&(r=`./${r}`),`import('${r}')`}async function vn(e,t,r){if(!r._.client.routes)return text("Server-side route resolution disabled",{status:400});let n=null,s={};const a=await r._.matchers();for(const c of r._.client.routes){const d=c.pattern.exec(e);if(!d)continue;const o=rr(d,c.params,a);if(o){n=c,s=j$1(o);break}}return ar(n,s,t,r).response}function ar(e,t,r,n){const s=new Headers({"content-type":"application/javascript; charset=utf-8"});if(e){const a=nr(e,r,n),c=`${kn(e,r,n)}
export const route = ${a}; export const params = ${JSON.stringify(t)};`;return {response:text(c,{headers:s}),body:c}}else return {response:text("",{headers:s}),body:""}}function kn(e,t$1,r){const{errors:n,layouts:s,leaf:a}=e;let c="";for(const d of [...n,...s.map(o=>o?.[1]),a[1]]){if(typeof d!="number")continue;const o=r._.client.css?.[d];for(const i of o??[])c+=`'${t||e$1}/${i}',`;}return c?`${sr(r._.client.start,t$1)}.then(x => x.load_css([${c}]));`:""}const En={...readable(false),check:()=>false};async function _e({branch:e$2,fetched:t$1,options:r$1,manifest:n,state:s$1,page_config:a,status:c,error:d=null,event:o$1,event_state:i$1,resolve_opts:l,action_result:u,data_serializer:_}){if(s$1.prerendering){if(r$1.csp.mode==="nonce")throw new Error('Cannot use prerendering if config.kit.csp.mode === "nonce"');if(r$1.app_template_contains_nonce)throw new Error("Cannot use prerendering if page template contains %sveltekit.nonce%")}const{client:p}=n._,m=new Set(p.imports),f=new Set(p.stylesheets),h=new Set(p.fonts),y=new Set,b=new Set,E=new Map;let k;const x=u?.type==="success"||u?.type==="failure"?u.data??null:null;let w=e$1,$=t,g=I(e$1);if(s$1.prerendering?.fallback?r$1.hash_routing&&(g="new URL('.', location).pathname.slice(0, -1)"):(w=o$1.url.pathname.slice(e$1.length).split("/").slice(2).map(()=>"..").join("/")||".",g=`new URL(${I(w)}, location).pathname.slice(0, -1)`,(!t||t[0]==="/"&&t!==qr)&&($=w)),a.ssr){const j={stores:{page:writable(null),navigating:writable(null),updated:En},constructors:await Promise.all(e$2.map(({node:P})=>{if(!P.component)throw new Error(`Missing +page.svelte component for route ${o$1.route.id}`);return P.component()})),form:x};let O={};for(let P=0;P<e$2.length;P+=1)O={...O,...e$2[P].data},j[`data_${P}`]=O;j.page={error:d,params:o$1.params,route:o$1.route,status:c,url:o$1.url,data:O,form:x,state:{}};const G={context:new Map([["__request__",{page:j.page}]])},ee=globalThis.fetch;try{if(e){let P=!1;globalThis.fetch=(N,Z)=>{if(typeof N=="string"&&!P$2.test(N))throw new Error(`Cannot call \`fetch\` eagerly during server-side rendering with relative URL (${N}) — put your \`fetch\` calls inside \`onMount\` or a \`load\` function instead`);return !P&&!try_get_request_store()?.state.is_in_remote_function&&(console.warn("Avoid calling `fetch` eagerly during server-side rendering — put your `fetch` calls inside `onMount` or a `load` function instead"),P=!0),ee(N,Z)};}k=await with_request_store({event:o$1,state:i$1},async()=>{r&&o({base:w,assets:$});const P=r$1.root.render(j,G),N=r$1.async&&"then"in P?P.then(C=>C):P;r$1.async&&c$1();const{head:Z,html:we,css:ge}=r$1.async?await N:N;return {head:Z,html:we,css:ge}});}finally{e&&(globalThis.fetch=ee),c$1();}for(const{node:P}of e$2){for(const N of P.imports)m.add(N);for(const N of P.stylesheets)f.add(N);for(const N of P.fonts)h.add(N);P.inline_styles&&!p.inline&&Object.entries(await P.inline_styles()).forEach(([N,Z])=>E.set(N,Z));}}else k={head:"",html:"",css:{code:"",map:null}};let v="",A=k.html;const S=new $n(r$1.csp,{prerender:!!s$1.prerendering}),T=j=>j.startsWith("/")?e$1+j:`${$}/${j}`,U=p.inline?p.inline?.style:Array.from(E.values()).join(`
`);if(U){const j=e?[" data-sveltekit"]:[];S.style_needs_nonce&&j.push(` nonce="${S.nonce}"`),S.add_style(U),v+=`
	<style${j.join("")}>${U}</style>`;}for(const j of f){const O=T(j),G=['rel="stylesheet"'];E.has(j)?G.push("disabled",'media="(max-width: 0)"'):l.preload({type:"css",path:O})&&y.add(`<${encodeURI(O)}>; rel="preload"; as="style"; nopush`),v+=`
		<link href="${O}" ${G.join(" ")}>`;}for(const j of h){const O=T(j);if(l.preload({type:"font",path:O})){const G=j.slice(j.lastIndexOf(".")+1);b.add(`<link rel="preload" as="font" type="font/${G}" href="${O}" crossorigin>`),y.add(`<${encodeURI(O)}>; rel="preload"; as="font"; type="font/${G}"; crossorigin; nopush`);}}const F=Ut(r$1),{data:V,chunks:J}=_.get_data(S);if(a.ssr&&a.csr&&(A+=`
			${t$1.map(j=>pn(j,l.filterSerializedResponseHeaders,!!s$1.prerendering)).join(`
			`)}`),a.csr){const j=n._.client.routes?.find(C=>C.id===o$1.route.id)??null;if(p.uses_env_dynamic_public&&s$1.prerendering&&m.add(`${i}/env.js`),!p.inline){const C=Array.from(m,q=>T(q)).filter(q=>l.preload({type:"js",path:q}));for(const q of C)y.add(`<${encodeURI(q)}>; rel="modulepreload"; nopush`),r$1.preload_strategy!=="modulepreload"?v+=`
		<link rel="preload" as="script" crossorigin="anonymous" href="${q}">`:b.add(`<link rel="modulepreload" href="${q}">`);}if(s$1.prerendering&&b.size>0&&(v+=Array.from(b).map(C=>`
		${C}`).join("")),n._.client.routes&&s$1.prerendering&&!s$1.prerendering.fallback){const C=It(o$1.url.pathname);s$1.prerendering.dependencies.set(C,ar(j,o$1.params,new URL(C,o$1.url),n));}const O=[],G=p.uses_env_dynamic_public&&s$1.prerendering,ee=[`base: ${g}`];if(t&&ee.push(`assets: ${I(t)}`),p.uses_env_dynamic_public&&ee.push(`env: ${G?"null":I(x$1)}`),J){O.push("const deferred = new Map();"),ee.push(`defer: (id) => new Promise((fulfil, reject) => {
							deferred.set(id, { fulfil, reject });
						})`);let C="";Object.keys(r$1.hooks.transport).length>0&&(p.inline?C=`const app = __sveltekit_${r$1.version_hash}.app.app;`:p.app?C=`const app = await import(${I(T(p.app))});`:C=`const { app } = await import(${I(T(p.start))});`);const q=C?`${C}
							const [data, error] = fn(app);`:"const [data, error] = fn();";ee.push(`resolve: async (id, fn) => {
							${q}

							const try_to_resolve = () => {
								if (!deferred.has(id)) {
									setTimeout(try_to_resolve, 0);
									return;
								}
								const { fulfil, reject } = deferred.get(id);
								deferred.delete(id);
								if (error) reject(error);
								else fulfil(data);
							}
							try_to_resolve();
						}`);}O.push(`${F} = {
						${ee.join(`,
						`)}
					};`);const P=["element"];if(O.push("const element = document.currentScript.parentElement;"),a.ssr){const C={form:"null",error:"null"};x&&(C.form=ln(x,o$1.route.id,r$1.hooks.transport)),d&&(C.error=W(d));const q=[`node_ids: [${e$2.map(({node:Q})=>Q.index).join(", ")}]`,`data: ${V}`,`form: ${C.form}`,`error: ${C.error}`];if(c!==200&&q.push(`status: ${c}`),n._.client.routes){if(j){const Q=nr(j,o$1.url,n).replaceAll(`
`,`
							`);q.push(`params: ${W(o$1.params)}`,`server_route: ${Q}`);}}else r$1.embedded&&q.push(`params: ${W(o$1.params)}`,`route: ${I(o$1.route)}`);const te="	".repeat(G?7:6);P.push(`{
${te}	${q.join(`,
${te}	`)}
${te}}`);}const{remote_data:N}=i$1;let Z="";if(N){const C={};for(const[te,Q]of N)if(te.id)for(const ue in Q)C[ne$1(te.id,ue)]=await Q[ue];const q=te=>{for(const Q in r$1.hooks.transport){const ue=r$1.hooks.transport[Q].encode(te);if(ue)return `app.decode('${Q}', ${W(ue,q)})`}};Z=`${F}.data = ${W(C,q)};

						`;}const we=p.inline?`${p.inline.script}

					${Z}${F}.app.start(${P.join(", ")});`:p.app?`Promise.all([
						import(${I(T(p.start))}),
						import(${I(T(p.app))})
					]).then(([kit, app]) => {
						${Z}kit.start(app, ${P.join(", ")});
					});`:`import(${I(T(p.start))}).then((app) => {
						${Z}app.start(${P.join(", ")})
					});`;if(G?O.push(`import(${I(`${w}/${i}/env.js`)}).then(({ env }) => {
						${F}.env = env;

						${we.replace(/\n/g,`
	`)}
					});`):O.push(we),r$1.service_worker){let C=e?", { type: 'module' }":"";if(r$1.service_worker_options!=null){const q={...r$1.service_worker_options};e&&(q.type="module"),C=`, ${I(q)}`;}O.push(`if ('serviceWorker' in navigator) {
						addEventListener('load', function () {
							navigator.serviceWorker.register('${T("service-worker.js")}'${C});
						});
					}`);}const ge=`
				{
					${O.join(`

					`)}
				}
			`;S.add_script(ge),A+=`
			<script${S.script_needs_nonce?` nonce="${S.nonce}"`:""}>${ge}<\/script>
		`;}const Y=new Headers({"x-sveltekit-page":"true","content-type":"text/html"});if(s$1.prerendering){const j=[],O=S.csp_provider.get_meta();O&&j.push(O),s$1.prerendering.cache&&j.push(`<meta http-equiv="cache-control" content="${s$1.prerendering.cache}">`),j.length>0&&(v=j.join(`
`)+v);}else {const j=S.csp_provider.get_header();j&&Y.set("content-security-policy",j);const O=S.report_only_provider.get_header();O&&Y.set("content-security-policy-report-only",O),y.size&&Y.set("link",Array.from(y).join(", "));}v+=k.head;const me=r$1.templates.app({head:v,body:A,assets:$,nonce:S.nonce,env:x$1}),ye=await l.transformPageChunk({html:me,done:true})||"";return J||Y.set("etag",`"${Xt(ye)}"`),e&&(a.csr?ye.split("<!--").length<me.split("<!--").length&&console.warn("\x1B[1m\x1B[31mRemoving comments in transformPageChunk can break Svelte's hydration\x1B[39m\x1B[22m"):J&&console.warn("\x1B[1m\x1B[31mReturning promises from server `load` functions will only work if `csr === true`\x1B[39m\x1B[22m")),J?new Response(new ReadableStream({async start(j){j.enqueue(s.encode(ye+`
`));for await(const O of J)O.length&&j.enqueue(s.encode(O));j.close();},type:"bytes"}),{headers:Y}):text(ye,{status:c,headers:Y})}class et{data;constructor(t){this.data=t;}layouts(){return this.data.slice(0,-1)}page(){return this.data.at(-1)}validate(){for(const r of this.layouts())r&&(L$1(r.server,r.server_id),U$2(r.universal,r.universal_id));const t=this.page();t&&(T$1(t.server,t.server_id),C$2(t.universal,t.universal_id));}#e(t){return this.data.reduce((r,n)=>n?.universal?.[t]??n?.server?.[t]??r,void 0)}csr(){return this.#e("csr")??true}ssr(){return this.#e("ssr")??true}prerender(){return this.#e("prerender")??false}trailing_slash(){return this.#e("trailingSlash")??"never"}get_config(){let t={};for(const r of this.data)!r?.universal?.config&&!r?.server?.config||(t={...t,...r?.universal?.config,...r?.server?.config});return Object.keys(t).length?t:void 0}should_prerender_data(){return this.data.some(t=>t?.server?.load||t?.server?.trailingSlash!==void 0)}}async function or({event:e,event_state:t,options:r,manifest:n,state:s,status:a,error:c,resolve_opts:d}){if(e.request.headers.get("x-sveltekit-error"))return Ae(r,a,c.message);const o=[];try{const i=[],l=await n._.nodes[0](),u=new et([l]),_=u.ssr(),p=u.csr(),m=he(e,t,r);if(_){s.error=!0;const f=Qe({event:e,event_state:t,state:s,node:l,parent:async()=>({})}),h=await f;m.add_node(0,h);const y=await Kt({event:e,event_state:t,fetched:o,node:l,parent:async()=>({}),resolve_opts:d,server_data_promise:f,state:s,csr:p});i.push({node:l,server_data:h,data:y},{node:await n._.nodes[1](),data:null,server_data:null});}return await _e({options:r,manifest:n,state:s,page_config:{ssr:_,csr:p},status:a,error:await M(e,t,r,c),branch:i,fetched:o,event:e,event_state:t,resolve_opts:d,data_serializer:m})}catch(i){return i instanceof Redirect?Se(i.status,i.location):Ae(r,ce(i),(await M(e,t,r,i)).message)}}async function xn(e,t,r,n,s){return ne({name:"sveltekit.remote.call",attributes:{},fn:a=>{const c=merge_tracing(e,a);return with_request_store({event:c,state:t},()=>An(c,t,r,n,s))}})}async function An(e,t,r,n,s){const[a,c,d]=s.split("/"),o=n._.remotes;o[a]||error(404);const l=(await o[a]()).default[c];l||error(404);const u=l.__,_=r.hooks.transport;e.tracing.current.setAttributes({"sveltekit.remote.call.type":u.type,"sveltekit.remote.call.name":u.name});let p;try{if(u.type==="query_batch"){if(e.request.method!=="POST")throw new SvelteKitError(405,"Method Not Allowed",`\`query.batch\` functions must be invoked via POST request, not ${e.request.method}`);const{payloads:y}=await e.request.json(),b=y.map(x=>te(x,_)),E=await with_request_store({event:e,state:t},()=>u.run(b)),k=await Promise.all(b.map(async(x,w)=>{try{return {type:"result",data:E(x,w)}}catch($){return {type:"error",error:await M(e,t,r,$),status:$ instanceof HttpError||$ instanceof SvelteKitError?$.status:500}}}));return json({type:"result",result:H(k,_)})}if(u.type==="form"){if(e.request.method!=="POST")throw new SvelteKitError(405,"Method Not Allowed",`\`form\` functions must be invoked via POST request, not ${e.request.method}`);if(!Ge(e.request))throw new SvelteKitError(415,"Unsupported Media Type",`\`form\` functions expect form-encoded data — received ${e.request.headers.get("content-type")}`);const y=await e.request.formData();p=JSON.parse(y.get("sveltekit:remote_refreshes")??"[]"),y.delete("sveltekit:remote_refreshes"),d&&y.set("sveltekit:id",decodeURIComponent(d));const b=u.fn,E=await with_request_store({event:e,state:t},()=>b(y));return json({type:"result",result:H(E,_),refreshes:E.issues?{}:await m(p)})}if(u.type==="command"){const{payload:y,refreshes:b}=await e.request.json(),E=te(y,_),k=await with_request_store({event:e,state:t},()=>l(E));return json({type:"result",result:H(k,_),refreshes:await m(b)})}const f=u.type==="prerender"?d:new URL(e.request.url).searchParams.get("payload"),h=await with_request_store({event:e,state:t},()=>l(te(f,_)));return json({type:"result",result:H(h,_)})}catch(f){if(f instanceof Redirect)return json({type:"redirect",location:f.location,refreshes:await m(p??[])});const h=f instanceof HttpError||f instanceof SvelteKitError?f.status:500;return json({type:"error",error:await M(e,t,r,f),status:h},{status:t.prerendering?h:void 0,headers:{"cache-control":"private, no-store"}})}async function m(f){const h=t.refreshes??{};for(const y of f){if(h[y]!==void 0)continue;const[b,E,k]=y.split("/"),x=n._.remotes[b],w=(await x?.())?.default?.[E];w||error(400,"Bad Request"),h[y]=with_request_store({event:e,state:t},()=>w(te(k,_)));}if(Object.keys(h).length!==0)return H(Object.fromEntries(await Promise.all(Object.entries(h).map(async([y,b])=>[y,await b]))),_)}}async function Sn(e,t,r,n){return ne({name:"sveltekit.remote.form.post",attributes:{},fn:s=>{const a=merge_tracing(e,s);return with_request_store({event:a,state:t},()=>jn(a,t,r,n))}})}async function jn(e$1,t,r,n){const[s,a,c]=n.split("/");let i=(await r._.remotes[s]?.())?.default[a];if(!i)return e$1.setHeaders({allow:"GET"}),{type:"error",error:new SvelteKitError(405,"Method Not Allowed",`POST method not allowed. No form actions exist for ${e?`the page at ${e$1.route.id}`:"this page"}`)};c&&(i=with_request_store({event:e$1,state:t},()=>i.for(JSON.parse(c))));try{const l=await e$1.request.formData(),u=i.__.fn;return c&&!l.has("id")&&l.set("sveltekit:id",decodeURIComponent(c)),await with_request_store({event:e$1,state:t},()=>u(l)),{type:"success",status:200}}catch(l){const u=l;return u instanceof Redirect?{type:"redirect",status:u.status,location:u.location}:{type:"error",error:Ye(u)}}}function Rn(e){return e.pathname.startsWith(`${e$1}/${i}/remote/`)&&e.pathname.replace(`${e$1}/${i}/remote/`,"")}function Tn(e){return e.searchParams.get("/remote")}const On=10;async function Cn(e$1,t,r,n,s,a,c,d){if(a.depth>On)return text(`Not found: ${e$1.url.pathname}`,{status:404});if(Mt(e$1)){const o=await s._.nodes[r.leaf]();return an(e$1,t,n,o?.server)}try{const o=c.page();let i=200,l;if(on(e$1)){const $=Tn(e$1.url);if($?l=await Sn(e$1,t,s,$):l=await cn(e$1,t,o.server),l?.type==="redirect")return Se(l.status,l.location);l?.type==="error"&&(i=ce(l.error)),l?.type==="failure"&&(i=l.status);}const u=c.prerender();if(u){if(o.server?.actions)throw new Error("Cannot prerender pages with actions")}else if(a.prerendering)return new Response(void 0,{status:204});a.prerender_default=u;const _=c.should_prerender_data(),p=Ke(e$1.url.pathname),m=[],f=c.ssr(),h=c.csr();if(f===!1&&!(a.prerendering&&_))return e&&l&&!e$1.request.headers.has("x-sveltekit-action")&&(l.type==="error"?console.warn("The form action returned an error, but +error.svelte wasn't rendered because SSR is off. To get the error page with CSR, enhance your form with `use:enhance`. See https://svelte.dev/docs/kit/form-actions#progressive-enhancement-use-enhance"):l.data&&console.warn("The form action returned a value, but it isn't available in `page.form`, because SSR is off. To handle the returned value in CSR, enhance your form with `use:enhance`. See https://svelte.dev/docs/kit/form-actions#progressive-enhancement-use-enhance")),await _e({branch:[],fetched:m,page_config:{ssr:!1,csr:h},status:i,error:null,event:e$1,event_state:t,options:n,manifest:s,state:a,resolve_opts:d,data_serializer:he(e$1,t,n)});const y=[];let b=null;const E=he(e$1,t,n),k=a.prerendering&&_?Zt(e$1,t,n):null,x=c.data.map(($,g)=>{if(b)throw b;return Promise.resolve().then(async()=>{try{if($===o&&l?.type==="error")throw l.error;const v=await Qe({event:e$1,event_state:t,state:a,node:$,parent:async()=>{const A={};for(let S=0;S<g;S+=1){const T=await x[S];T&&Object.assign(A,T.data);}return A}});return $&&E.add_node(g,v),k?.add_node(g,v),v}catch(v){throw b=v,b}})}),w=c.data.map(($,g)=>{if(b)throw b;return Promise.resolve().then(async()=>{try{return await Kt({event:e$1,event_state:t,fetched:m,node:$,parent:async()=>{const v={};for(let A=0;A<g;A+=1)Object.assign(v,await w[A]);return v},resolve_opts:d,server_data_promise:x[g],state:a,csr:h})}catch(v){throw b=v,b}})});for(const $ of x)$.catch(()=>{});for(const $ of w)$.catch(()=>{});for(let $=0;$<c.data.length;$+=1){const g=c.data[$];if(g)try{const v=await x[$],A=await w[$];y.push({node:g,server_data:v,data:A});}catch(v){const A=v;if(A instanceof Redirect){if(a.prerendering&&_){const U=JSON.stringify({type:"redirect",location:A.location});a.prerendering.dependencies.set(p,{response:text(U),body:U});}return Se(A.status,A.location)}const S=ce(A),T=await M(e$1,t,n,A);for(;$--;)if(r.errors[$]){const U=r.errors[$],F=await s._.nodes[U]();let V=$;for(;!y[V];)V-=1;E.set_max_nodes(V+1);const J=Ie(y.slice(0,V+1)),Y=new et(J.map(me=>me.node));return await _e({event:e$1,event_state:t,options:n,manifest:s,state:a,resolve_opts:d,page_config:{ssr:Y.ssr(),csr:Y.csr()},status:S,error:T,branch:J.concat({node:F,data:null,server_data:null}),fetched:m,data_serializer:E})}return Ae(n,S,T.message)}else y.push(null);}if(a.prerendering&&k){let{data:$,chunks:g}=k.get_data();if(g)for await(const v of g)$+=v;a.prerendering.dependencies.set(p,{response:text($),body:$});}return await _e({event:e$1,event_state:t,options:n,manifest:s,state:a,resolve_opts:d,page_config:{csr:h,ssr:f},status:i,error:null,branch:f===!1?[]:Ie(y),action_result:l,fetched:m,data_serializer:f===!1?he(e$1,t,n):E})}catch(o){return await or({event:e$1,event_state:t,options:n,manifest:s,state:a,status:500,error:o,resolve_opts:d})}}function Pn(e){let t=false,r;return ()=>t?r:(t=true,r=e())}async function Un(e,t,r,n,s$1,a,c,d){if(!r.page)return new Response(void 0,{status:404});try{const o=[...r.page.layouts,r.page.leaf],i=c??o.map(()=>!0);let l=!1;const u=new URL(e.url);u.pathname=y(u.pathname,d);const _={...e,url:u},p=o.map((k,x)=>Pn(async()=>{try{if(l)return {type:"skip"};const w=k==null?k:await s$1._.nodes[k]();return Qe({event:_,event_state:t,state:a,node:w,parent:async()=>{const $={};for(let g=0;g<x;g+=1){const v=await p[g]();v&&Object.assign($,v.data);}return $}})}catch(w){throw l=!0,w}})),m=p.map(async(k,x)=>i[x]?k():{type:"skip"});let f=m.length;const h=await Promise.all(m.map((k,x)=>k.catch(async w=>{if(w instanceof Redirect)throw w;return f=Math.min(f,x+1),{type:"error",error:await M(e,t,n,w),status:w instanceof HttpError||w instanceof SvelteKitError?w.status:void 0}}))),y$1=Zt(e,t,n);for(let k=0;k<h.length;k++)y$1.add_node(k,h[k]);const{data:b,chunks:E}=y$1.get_data();return E?new Response(new ReadableStream({async start(k){k.enqueue(s.encode(b));for await(const x of E)k.enqueue(s.encode(x));k.close();},type:"bytes"}),{headers:{"content-type":"text/sveltekit-data","cache-control":"private, no-store"}}):Me(b)}catch(o){const i=o;return i instanceof Redirect?We(i):Me(await M(e,t,n,i),500)}}function Me(e,t=200){return text(typeof e=="string"?e:JSON.stringify(e),{status:t,headers:{"content-type":"application/json","cache-control":"private, no-store"}})}function We(e){return Me({type:"redirect",location:e.location})}var ve={};var ft;function qn(){if(ft)return ve;ft=1,ve.parse=r,ve.serialize=n;var e=Object.prototype.toString,t=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/;function r(o,i){if(typeof o!="string")throw new TypeError("argument str must be a string");for(var l={},u=i||{},_=u.decode||s,p=0;p<o.length;){var m=o.indexOf("=",p);if(m===-1)break;var f=o.indexOf(";",p);if(f===-1)f=o.length;else if(f<m){p=o.lastIndexOf(";",m-1)+1;continue}var h=o.slice(p,m).trim();if(l[h]===void 0){var y=o.slice(m+1,f).trim();y.charCodeAt(0)===34&&(y=y.slice(1,-1)),l[h]=d(y,_);}p=f+1;}return l}function n(o,i,l){var u=l||{},_=u.encode||a;if(typeof _!="function")throw new TypeError("option encode is invalid");if(!t.test(o))throw new TypeError("argument name is invalid");var p=_(i);if(p&&!t.test(p))throw new TypeError("argument val is invalid");var m=o+"="+p;if(u.maxAge!=null){var f=u.maxAge-0;if(isNaN(f)||!isFinite(f))throw new TypeError("option maxAge is invalid");m+="; Max-Age="+Math.floor(f);}if(u.domain){if(!t.test(u.domain))throw new TypeError("option domain is invalid");m+="; Domain="+u.domain;}if(u.path){if(!t.test(u.path))throw new TypeError("option path is invalid");m+="; Path="+u.path;}if(u.expires){var h=u.expires;if(!c(h)||isNaN(h.valueOf()))throw new TypeError("option expires is invalid");m+="; Expires="+h.toUTCString();}if(u.httpOnly&&(m+="; HttpOnly"),u.secure&&(m+="; Secure"),u.partitioned&&(m+="; Partitioned"),u.priority){var y=typeof u.priority=="string"?u.priority.toLowerCase():u.priority;switch(y){case "low":m+="; Priority=Low";break;case "medium":m+="; Priority=Medium";break;case "high":m+="; Priority=High";break;default:throw new TypeError("option priority is invalid")}}if(u.sameSite){var b=typeof u.sameSite=="string"?u.sameSite.toLowerCase():u.sameSite;switch(b){case  true:m+="; SameSite=Strict";break;case "lax":m+="; SameSite=Lax";break;case "strict":m+="; SameSite=Strict";break;case "none":m+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}}return m}function s(o){return o.indexOf("%")!==-1?decodeURIComponent(o):o}function a(o){return encodeURIComponent(o)}function c(o){return e.call(o)==="[object Date]"||o instanceof Date}function d(o,i){try{return i(o)}catch{return o}}return ve}var re=qn();const Nn=/[\x00-\x1F\x7F()<>@,;:"/[\]?={} \t]/,ke={},Dn=4129;function qe(e){if(e?.path===void 0)throw new Error("You must specify a `path` when setting, deleting or serializing cookies")}function Ln(e,t,r){return `${e||""}${t}?${encodeURIComponent(r)}`}function zn(e$1,t){const r=e$1.headers.get("cookie")??"",n=re.parse(r,{decode:_=>_});let s$1;const a=new Map,c={httpOnly:true,sameSite:"lax",secure:!(t.hostname==="localhost"&&t.protocol==="http:")},d={get(_,p){const m=Array.from(a.values()).filter(y=>y.name===_&&Ne(t.hostname,y.options.domain)&&Ee(t.pathname,y.options.path)).sort((y,b)=>b.options.path.length-y.options.path.length)[0];if(m)return m.options.maxAge===0?void 0:m.value;const h=re.parse(r,{decode:p?.decode})[_];if(e&&!h){const y=Array.from(ke[_]??[]).filter(b=>Ee(b,t.pathname)&&b!==t.pathname);y.length>0&&console.warn(`'${_}' cookie does not exist for ${t.pathname}, but was previously set at ${In([...y])}. Did you mean to set its 'path' to '/' instead?`);}return h},getAll(_){const p=re.parse(r,{decode:_?.decode}),m=new Map;for(const f of a.values())if(Ne(t.hostname,f.options.domain)&&Ee(t.pathname,f.options.path)){const h=m.get(f.name);(!h||f.options.path.length>h.options.path.length)&&m.set(f.name,f);}for(const f of m.values())p[f.name]=f.value;return Object.entries(p).map(([f,h])=>({name:f,value:h}))},set(_,p,m){const f=_.match(Nn);f&&console.warn(`The cookie name "${_}" will be invalid in SvelteKit 3.0 as it contains ${f.join(" and ")}. See RFC 2616 for more details https://datatracker.ietf.org/doc/html/rfc2616#section-2.2`),qe(m),l(_,p,{...c,...m});},delete(_,p){qe(p),d.set(_,"",{...p,maxAge:0});},serialize(_,p,m){qe(m);let f=m.path;if(!m.domain||m.domain===t.hostname){if(!s$1)throw new Error("Cannot serialize cookies until after the route is determined");f=x$2(s$1,f);}return re.serialize(_,p,{...c,...m,path:f})}};function o(_,p){const m={...n};for(const f of a.values()){if(!Ne(_.hostname,f.options.domain)||!Ee(_.pathname,f.options.path))continue;const h=f.options.encode||encodeURIComponent;m[f.name]=h(f.value);}if(p){const f=re.parse(p,{decode:h=>h});for(const h in f)m[h]=f[h];}return Object.entries(m).map(([f,h])=>`${f}=${h}`).join("; ")}const i=[];function l(_,p,m){if(!s$1){i.push(()=>l(_,p,m));return}let f=m.path;(!m.domain||m.domain===t.hostname)&&(f=x$2(s$1,f));const h=Ln(m.domain,f,_),y={name:_,value:p,options:{...m,path:f}};if(a.set(h,y),e){const b=re.serialize(_,p,y.options);if(s.encode(b).byteLength>Dn)throw new Error(`Cookie "${_}" is too large, and will be discarded by the browser`);ke[_]??=new Set,p?ke[_].add(f):ke[_].delete(f);}}function u(_){s$1=y(t.pathname,_),i.forEach(p=>p());}return {cookies:d,new_cookies:a,get_cookie_header:o,set_internal:l,set_trailing_slash:u}}function Ne(e,t){if(!t)return  true;const r=t[0]==="."?t.slice(1):t;return e===r?true:e.endsWith("."+r)}function Ee(e,t){if(!t)return  true;const r=t.endsWith("/")?t.slice(0,-1):t;return e===r?true:e.startsWith(r+"/")}function pt(e,t){for(const r of t){const{name:n,value:s,options:a}=r;if(e.append("set-cookie",re.serialize(n,s,a)),a.path.endsWith(".html")){const c=Ke(a.path);e.append("set-cookie",re.serialize(n,s,{...a,path:c}));}}}function In(e){return e.length<=2?e.join(" and "):`${e.slice(0,-1).join(", ")} and ${e.at(-1)}`}var ae={exports:{}},ht;function Hn(){if(ht)return ae.exports;ht=1;var e={decodeValues:true,map:false,silent:false};function t(o){return typeof o!="string"||o in{}}function r(){return Object.create(null)}function n(o){return typeof o=="string"&&!!o.trim()}function s(o,i){var l=o.split(";").filter(n),u=l.shift(),_=a(u),p=_.name,m=_.value;if(i=i?Object.assign({},e,i):e,t(p))return null;try{m=i.decodeValues?decodeURIComponent(m):m;}catch(h){console.error("set-cookie-parser: failed to decode cookie value. Set options.decodeValues=false to disable decoding.",h);}var f=r();return f.name=p,f.value=m,l.forEach(function(h){var y=h.split("="),b=y.shift().trimLeft().toLowerCase();if(!t(b)){var E=y.join("=");if(b==="expires")f.expires=new Date(E);else if(b==="max-age"){var k=parseInt(E,10);Number.isNaN(k)||(f.maxAge=k);}else b==="secure"?f.secure=true:b==="httponly"?f.httpOnly=true:b==="samesite"?f.sameSite=E:b==="partitioned"?f.partitioned=true:b&&(f[b]=E);}}),f}function a(o){var i="",l="",u=o.split("=");return u.length>1?(i=u.shift(),l=u.join("=")):l=o,{name:i,value:l}}function c(o,i){if(i=i?Object.assign({},e,i):e,!o)return i.map?r():[];if(o.headers)if(typeof o.headers.getSetCookie=="function")o=o.headers.getSetCookie();else if(o.headers["set-cookie"])o=o.headers["set-cookie"];else {var l=o.headers[Object.keys(o.headers).find(function(_){return _.toLowerCase()==="set-cookie"})];!l&&o.headers.cookie&&!i.silent&&console.warn("Warning: set-cookie-parser appears to have been called on a request object. It is designed to parse Set-Cookie headers from responses, not Cookie headers from requests. Set the option {silent: true} to suppress this warning."),o=l;}if(Array.isArray(o)||(o=[o]),i.map){var u=r();return o.filter(n).reduce(function(_,p){var m=s(p,i);return m&&!t(m.name)&&(_[m.name]=m),_},u)}else return o.filter(n).map(function(_){return s(_,i)}).filter(Boolean)}function d(o){if(Array.isArray(o))return o;if(typeof o!="string")return [];var i=[],l=0,u,_,p,m,f;function h(){for(;l<o.length&&/\s/.test(o.charAt(l));)l+=1;return l<o.length}function y(){return _=o.charAt(l),_!=="="&&_!==";"&&_!==","}for(;l<o.length;){for(u=l,f=false;h();)if(_=o.charAt(l),_===","){for(p=l,l+=1,h(),m=l;l<o.length&&y();)l+=1;l<o.length&&o.charAt(l)==="="?(f=true,l=m,i.push(o.substring(u,p)),u=l):l=p+1;}else l+=1;(!f||l>=o.length)&&i.push(o.substring(u,o.length));}return i}return ae.exports=c,ae.exports.parse=c,ae.exports.parseString=s,ae.exports.splitCookiesString=d,ae.exports}var _t=Hn();function Mn({event:e,options:t$1,manifest:r,state:n,get_cookie_header:s,set_internal:a}){const c=async(d,o)=>{const i=mt(d,o,e.url);let l=(d instanceof Request?d.mode:o?.mode)??"cors",u=(d instanceof Request?d.credentials:o?.credentials)??"same-origin";return t$1.hooks.handleFetch({event:e,request:i,fetch:async(_,p)=>{const m=mt(_,p,e.url),f=new URL(m.url);if(m.headers.has("origin")||m.headers.set("origin",e.url.origin),_!==i&&(l=(_ instanceof Request?_.mode:p?.mode)??"cors",u=(_ instanceof Request?_.credentials:p?.credentials)??"same-origin"),(m.method==="GET"||m.method==="HEAD")&&(l==="no-cors"&&f.origin!==e.url.origin||f.origin===e.url.origin)&&m.headers.delete("origin"),f.origin!==e.url.origin){if(`.${f.hostname}`.endsWith(`.${e.url.hostname}`)&&u!=="omit"){const g=s(f,m.headers.get("cookie"));g&&m.headers.set("cookie",g);}return fetch(m)}const h=t||e$1,y=decodeURIComponent(f.pathname),b=(y.startsWith(h)?y.slice(h.length):y).slice(1),E=`${b}/index.html`,k=r.assets.has(b)||b in r._.server_assets,x=r.assets.has(E)||E in r._.server_assets;if(k||x){const g=k?b:E;if(n.read){const v=k?r.mimeTypes[b.slice(b.lastIndexOf("."))]:"text/html";return new Response(n.read(g),{headers:v?{"content-type":v}:{}})}else if(k$1&&g in r._.server_assets){const v=r._.server_assets[g],A=r.mimeTypes[g.slice(g.lastIndexOf("."))];return new Response(k$1(g),{headers:{"Content-Length":""+v,"Content-Type":A}})}return await fetch(m)}if(Dt(r,e$1+y))return await fetch(m);if(u!=="omit"){const g=s(f,m.headers.get("cookie"));g&&m.headers.set("cookie",g);const v=e.request.headers.get("authorization");v&&!m.headers.has("authorization")&&m.headers.set("authorization",v);}m.headers.has("accept")||m.headers.set("accept","*/*"),m.headers.has("accept-language")||m.headers.set("accept-language",e.request.headers.get("accept-language"));const w=await Wn(m,t$1,r,n),$=w.headers.get("set-cookie");if($)for(const g of _t.splitCookiesString($)){const{name:v,value:A,...S}=_t.parseString(g,{decodeValues:false}),T=S.path??(f.pathname.split("/").slice(0,-1).join("/")||"/");a(v,A,{path:T,encode:U=>U,...S});}return w}})};return (d,o)=>{const i=c(d,o);return i.catch(()=>{}),i}}function mt(e,t,r){return e instanceof Request?e:new Request(typeof e=="string"?new URL(e,r):e,t)}async function Wn(e,t,r,n){if(e.signal){if(e.signal.aborted)throw new DOMException("The operation was aborted.","AbortError");let s=()=>{};const a=new Promise((d,o)=>{const i=()=>{o(new DOMException("The operation was aborted.","AbortError"));};e.signal.addEventListener("abort",i,{once:true}),s=()=>e.signal.removeEventListener("abort",i);}),c=await Promise.race([Be(e,t,r,{...n,depth:n.depth+1}),a]);return s(),c}else return await Be(e,t,r,{...n,depth:n.depth+1})}let yt,De,Le;function Bn(e){return yt??=`export const env=${JSON.stringify(x$1)}`,De??=`W/${Date.now()}`,Le??=new Headers({"content-type":"application/javascript; charset=utf-8",etag:De}),e.headers.get("if-none-match")===De?new Response(void 0,{status:304,headers:Le}):new Response(yt,{headers:Le})}const wt=new Set(["max-age","public","private","no-cache","no-store","must-revalidate","proxy-revalidate","s-maxage","immutable","stale-while-revalidate","stale-if-error","no-transform","only-if-cached","max-stale","min-fresh"]),Fn=/^(application|audio|example|font|haptics|image|message|model|multipart|text|video|x-[a-z]+)\/[-+.\w]+$/i,Vn={"cache-control":e=>{const t=`(While parsing "${e}".)`,r=e.split(",").map(a=>a.trim());if(r.some(a=>!a))throw new Error(`\`cache-control\` header contains empty directives. ${t}`);const s=r.map(a=>a.split("=")[0].toLowerCase()).find(a=>!wt.has(a));if(s)throw new Error(`Invalid cache-control directive "${s}". Did you mean one of: ${[...wt].join(", ")}? ${t}`)},"content-type":e=>{const t=e.split(";")[0].trim(),r=`(While parsing "${e}".)`;if(!Fn.test(t))throw new Error(`Invalid content-type value "${t}". ${r}`)}};function Gn(e){for(const[t,r]of Object.entries(e)){const n=Vn[t.toLowerCase()];try{n?.(r);}catch(s){s instanceof Error&&console.warn(`[SvelteKit] ${s.message}`);}}}const gt=({html:e})=>e,bt=()=>false,$t=({type:e})=>e==="js"||e==="css",Jn=new Set(["GET","HEAD","POST"]),Zn=new Set(["GET","HEAD","OPTIONS"]);let vt=false;const Be=Yn(Kn);async function Kn(e$2,t,r,n){const s=new URL(e$2.url),a=Zr(s.pathname),c=Gr(s.pathname),d=Rn(s);if(!e){const w=e$2.headers.get("origin");if(d){if(e$2.method!=="GET"&&w!==s.origin)return json({message:"Cross-site remote requests are forbidden"},{status:403})}else if(t.csrf_check_origin&&Ge(e$2)&&(e$2.method==="POST"||e$2.method==="PUT"||e$2.method==="PATCH"||e$2.method==="DELETE")&&w!==s.origin&&(!w||!t.csrf_trusted_origins.includes(w))){const g=`Cross-site ${e$2.method} form submissions are forbidden`,v={status:403};return e$2.headers.get("accept")==="application/json"?json({message:g},v):text(g,v)}}if(t.hash_routing&&s.pathname!==e$1+"/"&&s.pathname!=="/[fallback]")return text("Not found",{status:404});let o;a?s.pathname=Kr(s.pathname):c?(s.pathname=Jr(s.pathname)+(s.searchParams.get(X)==="1"?"/":"")||"/",s.searchParams.delete(X),o=s.searchParams.get(W$1)?.split("").map(w=>w==="1"),s.searchParams.delete(W$1)):d&&(s.pathname=e$2.headers.get("x-sveltekit-pathname")??e$1,s.search=e$2.headers.get("x-sveltekit-search")??"");const i$1={},{cookies:l,new_cookies:u,get_cookie_header:_,set_internal:p,set_trailing_slash:m}=zn(e$2,s),f={prerendering:n.prerendering,transport:t.hooks.transport,handleValidationError:t.hooks.handleValidationError,tracing:{record_span:ne},is_in_remote_function:false},h={cookies:l,fetch:null,getClientAddress:n.getClientAddress||(()=>{throw new Error("@sveltejs/adapter-node does not specify getClientAddress. Please raise an issue")}),locals:{},params:{},platform:n.platform,request:e$2,route:{id:null},setHeaders:w=>{e&&Gn(w);for(const $ in w){const g=$.toLowerCase(),v=w[$];if(g==="set-cookie")throw new Error("Use `event.cookies.set(name, value, options)` instead of `event.setHeaders` to set cookies");if(g in i$1)throw new Error(`"${$}" header is already set`);i$1[g]=v,n.prerendering&&g==="cache-control"&&(n.prerendering.cache=v);}},url:s,isDataRequest:c,isSubRequest:n.depth>0,isRemoteRequest:!!d};h.fetch=Mn({event:h,options:t,manifest:r,state:n,get_cookie_header:_,set_internal:p}),n.emulator?.platform&&(h.platform=await n.emulator.platform({config:{},prerender:!!n.prerendering?.fallback}));let y$1=s.pathname;if(!d){const w=n.prerendering?.inside_reroute;try{n.prerendering&&(n.prerendering.inside_reroute=!0),y$1=await t.hooks.reroute({url:new URL(s),fetch:h.fetch})??s.pathname;}catch{return text("Internal Server Error",{status:500})}finally{n.prerendering&&(n.prerendering.inside_reroute=w);}}try{y$1=E$1(y$1);}catch{return text("Malformed URI",{status:400})}if(y$1!==s.pathname&&!n.prerendering?.fallback&&Dt(r,y$1)){const w=new URL(e$2.url);w.pathname=c?Ke(y$1):a?It(y$1):y$1;const $=await fetch(w,e$2),g=new Headers($.headers);return g.has("content-encoding")&&(g.delete("content-encoding"),g.delete("content-length")),new Response($.body,{headers:g,status:$.status,statusText:$.statusText})}let b=null;if(e$1&&!n.prerendering?.fallback){if(!y$1.startsWith(e$1))return text("Not found",{status:404});y$1=y$1.slice(e$1.length)||"/";}if(a)return vn(y$1,new URL(e$2.url),r);if(y$1===`/${i}/env.js`)return Bn(e$2);if(!d&&y$1.startsWith(`/${i}`)){const w=new Headers;return w.set("cache-control","public, max-age=0, must-revalidate"),text("Not found",{status:404,headers:w})}if(!n.prerendering?.fallback){const w=await r._.matchers();for(const $ of r._.routes){const g=$.pattern.exec(y$1);if(!g)continue;const v=rr(g,$.params,w);if(v){b=$,h.route={id:b.id},h.params=j$1(v);break}}}let E={transformPageChunk:gt,filterSerializedResponseHeaders:bt,preload:$t},k="never";try{const w=b?.page?new et(await Xn(b.page,r)):void 0;if(b&&!d){if(s.pathname===e$1||s.pathname===e$1+"/")k="always";else if(w)e&&w.validate(),k=w.trailing_slash();else if(b.endpoint){const g=await b.endpoint();k=g.trailingSlash??"never",e&&I$2(g,b.endpoint_id);}if(!c){const g=y(s.pathname,k);if(g!==s.pathname&&!n.prerendering?.fallback)return new Response(void 0,{status:308,headers:{"x-sveltekit-normalize":"1",location:(g.startsWith("//")?s.origin+g:g)+(s.search==="?"?"":s.search)}})}if(n.before_handle||n.emulator?.platform){let g={},v=!1;if(b.endpoint){const A=await b.endpoint();g=A.config??g,v=A.prerender??v;}else w&&(g=w.get_config()??g,v=w.prerender());n.before_handle&&n.before_handle(h,g,v),n.emulator?.platform&&(h.platform=await n.emulator.platform({config:g,prerender:v}));}}m(k),n.prerendering&&!n.prerendering.fallback&&!n.prerendering.inside_reroute&&R$1(s);const $=await ne({name:"sveltekit.handle.root",attributes:{"http.route":h.route.id||"unknown","http.method":h.request.method,"http.url":h.url.href,"sveltekit.is_data_request":c,"sveltekit.is_sub_request":h.isSubRequest},fn:async g=>{const v={...h,tracing:{enabled:!1,root:g,current:g}};return await with_request_store({event:v,state:f},()=>t.hooks.handle({event:v,resolve:(A,S)=>ne({name:"sveltekit.resolve",attributes:{"http.route":A.route.id||"unknown"},fn:T=>with_request_store(null,()=>x(merge_tracing(A,T),w,S).then(U=>{for(const F in i$1){const V=i$1[F];U.headers.set(F,V);}return pt(U.headers,u.values()),n.prerendering&&A.route.id!==null&&U.headers.set("x-sveltekit-routeid",encodeURI(A.route.id)),T.setAttributes({"http.response.status_code":U.status,"http.response.body.size":U.headers.get("content-length")||"unknown"}),U}))})}))}});if($.status===200&&$.headers.has("etag")){let g=e$2.headers.get("if-none-match");g?.startsWith('W/"')&&(g=g.substring(2));const v=$.headers.get("etag");if(g===v){const A=new Headers({etag:v});for(const S of ["cache-control","content-location","date","expires","vary","set-cookie"]){const T=$.headers.get(S);T&&A.set(S,T);}return new Response(void 0,{status:304,headers:A})}}if(c&&$.status>=300&&$.status<=308){const g=$.headers.get("location");if(g)return We(new Redirect($.status,g))}return $}catch(w){if(w instanceof Redirect){const $=c||d?We(w):b?.page&&Mt(h)?Wt(w):Se(w.status,w.location);return pt($.headers,u.values()),$}return await ct(h,f,t,w)}async function x(w,$,g){try{if(g&&(E={transformPageChunk:g.transformPageChunk||gt,filterSerializedResponseHeaders:g.filterSerializedResponseHeaders||bt,preload:g.preload||$t}),t.hash_routing||n.prerendering?.fallback)return await _e({event:w,event_state:f,options:t,manifest:r,state:n,page_config:{ssr:!1,csr:!0},status:200,error:null,branch:[],fetched:[],resolve_opts:E,data_serializer:he(w,f,t)});if(d)return await xn(w,f,t,r,d);if(b){const A=w.request.method;let S;if(c)S=await Un(w,f,b,t,r,n,o,k);else if(b.endpoint&&(!b.page||Vr(w)))S=await Fr(w,f,await b.endpoint(),n);else if(b.page)if($)if(Jn.has(A))S=await Cn(w,f,b.page,t,r,n,$,E);else {const T=new Set(Zn);if((await r._.nodes[b.page.leaf]())?.server?.actions&&T.add("POST"),A==="OPTIONS")S=new Response(null,{status:204,headers:{allow:Array.from(T.values()).join(", ")}});else {const F=[...T].reduce((V,J)=>(V[J]=!0,V),{});S=Pt(F,A);}}else throw new Error("page_nodes not found. This should never happen");else throw new Error("Route is neither page nor endpoint. This should never happen");if(e$2.method==="GET"&&b.page&&b.endpoint){const T=S.headers.get("vary")?.split(",")?.map(U=>U.trim().toLowerCase());T?.includes("accept")||T?.includes("*")||(S=new Response(S.body,{status:S.status,statusText:S.statusText,headers:new Headers(S.headers)}),S.headers.append("Vary","Accept"));}return S}if(n.error&&w.isSubRequest){const A=new Headers(e$2.headers);return A.set("x-sveltekit-error","true"),await fetch(e$2,{headers:A})}if(n.error)return text("Internal Server Error",{status:500});if(n.depth===0)return e&&w.url.pathname==="/.well-known/appspecific/com.chrome.devtools.json"?(vt||(console.log(`
Google Chrome is requesting ${w.url.pathname} to automatically configure devtools project settings. To learn why, and how to prevent this message, see https://svelte.dev/docs/cli/devtools-json
`),vt=!0),new Response(void 0,{status:404})):await or({event:w,event_state:f,options:t,manifest:r,state:n,status:404,error:new SvelteKitError(404,"Not Found",`Not found: ${w.url.pathname}`),resolve_opts:E});if(n.prerendering)return text("not found",{status:404});const v=await fetch(e$2);return new Response(v.body,v)}catch(v){return await ct(w,f,t,v)}finally{w.cookies.set=()=>{throw new Error("Cannot use `cookies.set(...)` after the response has been generated")},w.setHeaders=()=>{throw new Error("Cannot use `setHeaders(...)` after the response has been generated")};}}}function Xn(e,t){return Promise.all([...e.layouts.map(r=>r==null?r:t._.nodes[r]()),t._.nodes[e.leaf]()])}function Yn(e){return async(t,...r)=>e(t,...r)}function kt(e,t,r){return Object.fromEntries(Object.entries(e).filter(([n])=>n.startsWith(t)&&(r===""||!n.startsWith(r))))}let Qn,Et=null;class us{#e;#t;constructor(t){if(this.#e=M$2,this.#t=t,Ur){const r=this.respond.bind(this);this.respond=async(...n)=>{const{promise:s,resolve:a}=jt(),c=Et;return Et=s,await c,r(...n).finally(a)};}}async init({env:t,read:r}){const{env_public_prefix:n,env_private_prefix:s}=this.#e;O$1(kt(t,s,n)),P$1(kt(t,n,s)),r&&I$1(c=>{const d=r(c);return d instanceof ReadableStream?d:new ReadableStream({async start(o){try{const i=await Promise.resolve(d);if(!i){o.close();return}const l=i.getReader();for(;;){const{done:u,value:_}=await l.read();if(u)break;o.enqueue(_);}o.close();}catch(i){o.error(i);}}})}),await(Qn??=(async()=>{try{const a=await U$1();this.#e.hooks={handle:a.handle||(({event:c,resolve:d})=>d(c)),handleError:a.handleError||(({status:c,error:d,event:o})=>{const i=Wr(c,d,o);console.error(i);}),handleFetch:a.handleFetch||(({request:c,fetch:d})=>d(c)),handleValidationError:a.handleValidationError||(({issues:c})=>(console.error("Remote function schema validation failed:",c),{message:"Bad Request"})),reroute:a.reroute||(()=>{}),transport:a.transport||{}},a.transport&&Object.fromEntries(Object.entries(a.transport).map(([c,d])=>[c,d.decode])),a.init&&await a.init();}catch(a){if(e)this.#e.hooks={handle:()=>{throw a},handleError:({error:c})=>console.error(c),handleFetch:({request:c,fetch:d})=>d(c),handleValidationError:()=>({message:"Bad Request"}),reroute:()=>{},transport:{}};else throw a}})());}async respond(t,r){return Be(t,this.#e,this.#t,{...r,error:false,depth:0})}}

export { us as Server };
//# sourceMappingURL=index.js.map
